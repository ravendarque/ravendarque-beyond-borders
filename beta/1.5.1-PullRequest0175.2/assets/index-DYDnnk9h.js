import{r as l,j as r,R as de,a as mt,b as Dn,c as Po,d as Ln,L as Ee,u as To,e as ko,B as Ao,f as Io,g as Nt}from"./vendor-CMTj_D30.js";import{f as Rt}from"./flags-C-YU5oGI.js";import{r as Mo,I as _n,R as Oo}from"./renderer-Ihv5d0zR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();class ye extends Error{code;userMessage;recoverySuggestion;canRetry;originalError;constructor(t){super(t.message),this.name="AppError",this.code=t.code,this.userMessage=t.userMessage,this.recoverySuggestion=t.recoverySuggestion,this.canRetry=t.canRetry,this.originalError=t.originalError,Error.captureStackTrace&&Error.captureStackTrace(this,ye)}toJSON(){return{name:this.name,code:this.code,message:this.message,userMessage:this.userMessage,recoverySuggestion:this.recoverySuggestion,canRetry:this.canRetry,stack:this.stack,originalError:this.originalError?.message}}}class Do extends ye{constructor(t,n){super({code:"NETWORK_FAILURE",message:t,userMessage:"Unable to connect to the server. Please check your internet connection.",recoverySuggestion:"Check your internet connection and try again.",canRetry:!0,originalError:n}),this.name="NetworkError"}}class Ve extends ye{constructor(t,n,o,s=!0,i){super({code:"RENDER_FAILED",message:t,userMessage:n,recoverySuggestion:o,canRetry:s,originalError:i}),this.name="RenderError"}static canvasNotSupported(){return new Ve("Canvas API not supported","Your browser does not support the features needed for this app.","Please try using a modern browser like Chrome, Firefox, or Safari.",!1)}static browserLimitExceeded(){return new Ve("Browser rendering limit exceeded","This image is too large for your browser to process.","Try using a smaller image (under 4000x4000 pixels).",!1)}static renderFailed(t){return new Ve("Rendering failed","Unable to create the bordered image. This might be a temporary issue.","Try adjusting the border settings or using a different image.",!0,t)}}class Ye extends ye{constructor(t,n,o,s,i=!1){super({code:t,message:n,userMessage:o,recoverySuggestion:s,canRetry:i}),this.name="FlagDataError"}static loadFailed(t){return new Ye("FLAG_LOAD_FAILED","Failed to load flag definitions","Unable to load the flag library. This might be a network issue.","Check your internet connection and refresh the page.",!0)}static patternMissing(t){return new Ye("FLAG_PATTERN_MISSING",`Flag ${t} has no pattern definition`,"This flag cannot be displayed because its design data is missing.","Please choose a different flag or report this issue.",!1)}static dataInvalid(t){return new Ye("FLAG_DATA_INVALID",`Flag ${t} has invalid data`,"This flag has invalid design data and cannot be used.","Please choose a different flag or report this issue.",!1)}}function Lo(e){if(e instanceof ye)return e;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("fetch")?new Do(e.message,e):t.includes("canvas")?Ve.canvasNotSupported():new ye({code:"UNKNOWN_ERROR",message:e.message,userMessage:"An unexpected error occurred.",recoverySuggestion:"Please try again. If the problem persists, refresh the page.",canRetry:!0,originalError:e})}return new ye({code:"UNKNOWN_ERROR",message:String(e),userMessage:"An unexpected error occurred.",recoverySuggestion:"Please try again. If the problem persists, refresh the page.",canRetry:!0})}function _o(){const e="/beta/1.5.1-PullRequest0175.2/",t="production",n="1.5.1-PullRequest0175.2";return{getAssetUrl(o){const s=o.startsWith("/")?o.slice(1):o;return`${e.endsWith("/")?e:`${e}/`}${s}`},getBaseUrl(){return e},getVersion(){return n},isDevelopment(){return t==="development"},isProduction(){return t==="production"}}}const Ke=_o();function Ie(e){return Ke.getAssetUrl(e)}function Fn(e){const{width:t,height:n}=e;return t>n?"landscape":n>t?"portrait":"square"}function st(e,t,n=0){const{width:o,height:s}=e,i=Fn(e),a=t,c=Math.max(a/o,a/s),d=1+n/100,u=c*d,f=o*u,h=s*u,x=(f-a)/2,g=(h-a)/2,w=a/2,p=x/w*100,m=g/w*100,v=p,y=m;return n===0?i==="landscape"?{minX:-v,maxX:v,minY:0,maxY:0}:i==="portrait"?{minX:0,maxX:0,minY:-y,maxY:y}:{minX:0,maxX:0,minY:0,maxY:0}:{minX:-v,maxX:v,minY:-y,maxY:y}}function Bn(e,t,n){let o,s;if(t){const i=Math.max(Math.abs(t.minX),Math.abs(t.maxX)),a=Math.max(Math.abs(t.minY),Math.abs(t.maxY));if(n){const c=Math.max(Math.abs(n.minX),Math.abs(n.maxX)),d=Math.max(Math.abs(n.minY),Math.abs(n.maxY));i>0&&c>0?o=50+e.x/50*c/c*i/i*50:o=50,a>0&&d>0?s=50+e.y/50*d/d*a/a*50:s=50}else i>0?o=50+e.x/50*i/i*50:o=50,a>0?s=50+e.y/50*a/a*50:s=50}else o=50+e.x/2,s=50+e.y/2;return o=Math.max(0,Math.min(100,o)),s=Math.max(0,Math.min(100,s)),`${o}% ${s}%`}function Fo(e,t,n,o,s,i){if(!t||t.width<=0||t.height<=0||n<=0)return{x:0,y:0};const{width:a,height:c}=t,d=n,u=Math.max(d/a,d/c),f=1+o/100,h=u*f,x=a*h,g=c*h,w=Bn(e,s,i),[p,m]=w.split(" ").map(C=>parseFloat(C.replace("%",""))),v=(d-x)*(p/100-.5),y=(d-g)*(m/100-.5),b=isFinite(v)?v:0,S=isFinite(y)?y:0;return{x:b,y:S}}function Bo(e,t,n){if(!e||n===0)return"cover";const{width:o,height:s}=e,i=t,a=Math.max(i/o,i/s);let c;o>s?c=o*a/i*100:(s>o,c=100);const d=1+n/100;return`${c*d}%`}function Wo(e,t){const[n,o]=l.useState(null),[s,i]=l.useState(!1),a=l.useRef(null);a.current=n;const c=l.useCallback(async(d,u,f)=>{const{size:h,thickness:x,flagOffsetPct:g,presentation:w,segmentRotation:p,bg:m,circleSize:v}=f;if(!d){i(!1);return}if(!u){a.current&&(URL.revokeObjectURL(a.current),o(null)),i(!1);return}try{i(!0);const y=e.find(N=>N.id===u);if(!y)throw Ye.patternMissing(u);const S=await(await fetch(d)).blob(),C=await createImageBitmap(S),R={...y};let j;if(w==="cutout"&&y.png_full){const N=y.png_full;if(t.has(N))j=t.get(N);else{const J=await(await fetch(Ie(`flags/${y.png_full}`))).blob();j=await createImageBitmap(J),t.set(N,j)}}const D=h,B=Math.round(x/100*D),A=h-B*2,T=st(f.imageDimensions,v,f.imagePosition.zoom),M=st(f.imageDimensions,v,200),O=Fo({x:f.imagePosition.x,y:f.imagePosition.y},f.imageDimensions,v,f.imagePosition.zoom,T,M),F=A/v,I={x:O.x*F,y:O.y*F},k=await Mo(C,R,{size:h,thicknessPct:x,imageOffsetPx:I,imageZoom:f.imagePosition.zoom,circleSize:v,originalImageDimensions:f.imageDimensions,flagOffsetPct:{x:g,y:0},presentation:w,segmentRotation:p,backgroundColor:m==="transparent"?null:m,borderImageBitmap:j}),L=URL.createObjectURL(k.blob);a.current&&URL.revokeObjectURL(a.current),o(L),i(!1);try{window.__BB_UPLOAD_DONE__=!0}catch{}}catch(y){throw i(!1),Lo(y)}},[e,t]);return l.useEffect(()=>()=>{a.current&&URL.revokeObjectURL(a.current)},[]),{overlayUrl:n,isRendering:s,render:c}}function Uo(){const e=l.useRef(new Map);return l.useEffect(()=>{const t=e.current;return()=>{t.forEach(n=>{try{n.close()}catch{}}),t.clear()}},[]),e.current}const hn=3;function zo(e){const{imageUrl:t,flagId:n,initialStep:o=1}=e,[s,i]=l.useState(o),a=l.useRef(!1),c=t!==null,d=t!==null&&n!==null,u=l.useCallback(w=>w===1?!0:w===2?c:w===3?d:!1,[c,d]),f=l.useCallback(w=>{if(a.current){a.current=!1;return}const p=new URL(window.location.href);w>1?p.searchParams.set("step",w.toString()):p.searchParams.delete("step"),window.history.pushState({},"",p.toString())},[]),h=w=>{if(!u(w)){f(s);return}i(w),f(w)},x=()=>{if(s<hn){const w=s+1;h(w)}},g=()=>{if(s>1){const w=s-1;h(w)}};return l.useEffect(()=>{f(s)},[s,f]),l.useEffect(()=>{const p=new URL(window.location.href).searchParams.get("step");if(p){const m=parseInt(p,10);u(m)&&i(m)}},[u]),l.useEffect(()=>{const w=()=>{a.current=!0;const m=new URL(window.location.href).searchParams.get("step");if(!m)i(1);else{const v=parseInt(m,10);v>=1&&v<=hn&&(u(v)?i(v):(f(s),a.current=!1))}};return window.addEventListener("popstate",w),()=>{window.removeEventListener("popstate",w)}},[t,n,s,u,f]),{currentStep:s,setCurrentStep:h,goToNext:x,goToPrevious:g,canGoToStep2:c,canGoToStep3:d}}function Lt(){return{step1:{imageUrl:null,imagePosition:{x:0,y:0,zoom:0},imageDimensions:null,circleSize:250},step2:{flagId:null},step3:{thickness:10,flagOffsetPct:0,presentation:"ring",segmentRotation:0,configuredForFlagId:null},currentStep:1}}const Gt="beyond-borders-workflow-state";function $o(e,t){switch(t.type){case"SET_STEP":return{...e,currentStep:t.step};case"SET_IMAGE_URL":return{...e,step1:{...e.step1,imageUrl:t.imageUrl,imagePosition:{x:0,y:0,zoom:0},imageDimensions:t.imageUrl?e.step1.imageDimensions:null}};case"SET_IMAGE_POSITION":return{...e,step1:{...e.step1,imagePosition:t.position}};case"SET_IMAGE_DIMENSIONS":const n=e.step1.imageDimensions!==null,o=t.dimensions!==null,s=!n&&o||n&&!o||n&&o&&(e.step1.imageDimensions.width!==t.dimensions.width||e.step1.imageDimensions.height!==t.dimensions.height),i=e.step1.imagePosition.x===0&&e.step1.imagePosition.y===0&&e.step1.imagePosition.zoom===0,a=t.dimensions===null||s&&i;return{...e,step1:{...e.step1,imageDimensions:t.dimensions,imagePosition:a?{x:0,y:0,zoom:0}:e.step1.imagePosition}};case"SET_CIRCLE_SIZE":return{...e,step1:{...e.step1,circleSize:t.size}};case"SET_FLAG_ID":return{...e,step2:{...e.step2,flagId:t.flagId}};case"SET_THICKNESS":return{...e,step3:{...e.step3,thickness:t.thickness}};case"SET_FLAG_OFFSET_PCT":return{...e,step3:{...e.step3,flagOffsetPct:t.offset}};case"SET_PRESENTATION":return{...e,step3:{...e.step3,presentation:t.mode}};case"SET_SEGMENT_ROTATION":return{...e,step3:{...e.step3,segmentRotation:t.rotation}};case"RESET_STEP1":return{...e,step1:{imageUrl:null,imagePosition:{x:0,y:0,zoom:0},imageDimensions:null,circleSize:_n.DEFAULT_CIRCLE_SIZE}};case"RESET_STEP2":return{...e,step2:{flagId:null}};case"RESET_STEP3":return{...e,step3:{thickness:10,flagOffsetPct:0,presentation:"ring",segmentRotation:0,configuredForFlagId:null}};case"RESET_ALL":return Lt();case"UPDATE_STEP3_FOR_FLAG":return{...e,step3:{...e.step3,configuredForFlagId:t.flagId,flagOffsetPct:t.defaultOffset??e.step3.flagOffsetPct}};default:return e}}function Ho(e){try{const t={step1:{imageUrl:e.step1.imageUrl,imagePosition:e.step1.imagePosition},step2:e.step2,step3:e.step3,currentStep:e.currentStep};t.step1?.imageUrl&&!t.step1.imageUrl.startsWith("data:")&&(t.step1.imageUrl=null),sessionStorage.setItem(Gt,JSON.stringify(t))}catch{}}function Vo(){try{const e=sessionStorage.getItem(Gt);return e?JSON.parse(e):null}catch{return null}}function Yo(){const e=l.useCallback(()=>{const m=Vo();if(!m)return Lt();const v=Lt(),y=m.step1?.imageUrl,b=y&&y.startsWith("data:")?y:null;return{...v,step1:{...v.step1,...m.step1,imageUrl:b,imageDimensions:null,circleSize:_n.DEFAULT_CIRCLE_SIZE},step2:{...v.step2,...m.step2},step3:{...v.step3,...m.step3},currentStep:m.currentStep??v.currentStep}},[]),[t,n]=l.useReducer($o,void 0,e),o=l.useRef(!1);l.useEffect(()=>{o.current||Ho(t),o.current=!1},[t]);const s=l.useCallback(m=>{n({type:"SET_STEP",step:m})},[]),i=l.useCallback(m=>{n({type:"SET_IMAGE_URL",imageUrl:m})},[]),a=l.useCallback(m=>{n({type:"SET_IMAGE_POSITION",position:m})},[]),c=l.useCallback(m=>{n({type:"SET_IMAGE_DIMENSIONS",dimensions:m})},[]),d=l.useCallback(m=>{n({type:"SET_CIRCLE_SIZE",size:m})},[]),u=l.useCallback(m=>{n({type:"SET_FLAG_ID",flagId:m})},[]),f=l.useCallback(m=>{n({type:"SET_THICKNESS",thickness:m})},[]),h=l.useCallback(m=>{n({type:"SET_FLAG_OFFSET_PCT",offset:m})},[]),x=l.useCallback(m=>{n({type:"SET_PRESENTATION",mode:m})},[]),g=l.useCallback(m=>{n({type:"SET_SEGMENT_ROTATION",rotation:m})},[]),w=l.useCallback(()=>{o.current=!0,n({type:"RESET_ALL"});try{sessionStorage.removeItem(Gt)}catch{}},[]),p=l.useCallback((m,v)=>{n({type:"UPDATE_STEP3_FOR_FLAG",flagId:m,defaultOffset:v})},[]);return{state:t,step1:t.step1,step2:t.step2,step3:t.step3,currentStep:t.currentStep,setStep:s,setImageUrl:i,setImagePosition:a,setImageDimensions:c,setCircleSize:d,setFlagId:u,setThickness:f,setFlagOffsetPct:h,setPresentation:x,setSegmentRotation:g,resetAll:w,updateStep3ForFlag:p}}function Ko(e,t,n,o,s){if(e!==3||t!=="cutout")return{shouldReset:!1,defaultOffset:void 0};const i=s?.modes?.cutout?.defaultOffset;return o!==null&&o!==n||o===null?{shouldReset:!0,defaultOffset:i??0}:{shouldReset:!1,defaultOffset:void 0}}function Xo(e){const{state:t,selectedFlag:n,onImageDimensionsChange:o,onCircleSizeChange:s,onFlagOffsetChange:i,onUpdateStep3ForFlag:a}=e,{step1:c,step2:d,step3:u,currentStep:f}=t;l.useEffect(()=>{if(!c.imageUrl){o(null);return}const h=new Image;h.onload=()=>{o({width:h.naturalWidth,height:h.naturalHeight})},h.onerror=()=>{o(null)},h.src=c.imageUrl},[c.imageUrl,o]),l.useEffect(()=>{const h=()=>{const x=document.querySelector(".choose-wrapper");if(x){const g=window.getComputedStyle(x),w=parseFloat(g.width);isNaN(w)||s(w*.8)}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[c.imageUrl,s]),l.useEffect(()=>{const{shouldReset:h,defaultOffset:x}=Ko(f,u.presentation,d.flagId,u.configuredForFlagId,n);h&&(i(x??0),a(d.flagId,x))},[f,d.flagId,u.presentation,u.configuredForFlagId,n,i,a])}function Pt(e,t){const[n,o]=l.useState(e);return l.useEffect(()=>{const s=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}function it(e,[t,n]){return Math.min(n,Math.max(t,e))}function K(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function Go(e,t){const n=l.createContext(t),o=i=>{const{children:a,...c}=i,d=l.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:d,children:a})};o.displayName=e+"Provider";function s(i){const a=l.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[o,s]}function Ze(e,t=[]){let n=[];function o(i,a){const c=l.createContext(a),d=n.length;n=[...n,a];const u=h=>{const{scope:x,children:g,...w}=h,p=x?.[e]?.[d]||c,m=l.useMemo(()=>w,Object.values(w));return r.jsx(p.Provider,{value:m,children:g})};u.displayName=i+"Provider";function f(h,x){const g=x?.[e]?.[d]||c,w=l.useContext(g);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(a=>l.createContext(a));return function(c){const d=c?.[e]||i;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[o,qo(s,...t)]}function qo(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=o.reduce((c,{useScope:d,scopeName:u})=>{const h=d(i)[`__scope${u}`];return{...c,...h}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function pn(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wn(...e){return t=>{let n=!1;const o=e.map(s=>{const i=pn(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<o.length;s++){const i=o[s];typeof i=="function"?i():pn(e[s],null)}}}}function Z(...e){return l.useCallback(Wn(...e),e)}function Xe(e){const t=Zo(e),n=l.forwardRef((o,s)=>{const{children:i,...a}=o,c=l.Children.toArray(i),d=c.find(Qo);if(d){const u=d.props.children,f=c.map(h=>h===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:h);return r.jsx(t,{...a,ref:s,children:l.isValidElement(u)?l.cloneElement(u,void 0,f):null})}return r.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Zo(e){const t=l.forwardRef((n,o)=>{const{children:s,...i}=n;if(l.isValidElement(s)){const a=ts(s),c=es(i,s.props);return s.type!==l.Fragment&&(c.ref=o?Wn(o,a):a),l.cloneElement(s,c)}return l.Children.count(s)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jo=Symbol("radix.slottable");function Qo(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jo}function es(e,t){const n={...t};for(const o in t){const s=e[o],i=t[o];/^on[A-Z]/.test(o)?s&&i?n[o]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[o]=s):o==="style"?n[o]={...s,...i}:o==="className"&&(n[o]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function ts(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Un(e){const t=e+"CollectionProvider",[n,o]=Ze(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:m,children:v}=p,y=de.useRef(null),b=de.useRef(new Map).current;return r.jsx(s,{scope:m,itemMap:b,collectionRef:y,children:v})};a.displayName=t;const c=e+"CollectionSlot",d=Xe(c),u=de.forwardRef((p,m)=>{const{scope:v,children:y}=p,b=i(c,v),S=Z(m,b.collectionRef);return r.jsx(d,{ref:S,children:y})});u.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",x=Xe(f),g=de.forwardRef((p,m)=>{const{scope:v,children:y,...b}=p,S=de.useRef(null),C=Z(m,S),R=i(f,v);return de.useEffect(()=>(R.itemMap.set(S,{ref:S,...b}),()=>void R.itemMap.delete(S))),r.jsx(x,{[h]:"",ref:C,children:y})});g.displayName=f;function w(p){const m=i(e+"CollectionConsumer",p);return de.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((R,j)=>b.indexOf(R.ref.current)-b.indexOf(j.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},w,o]}var ns=l.createContext(void 0);function zn(e){const t=l.useContext(ns);return e||t||"ltr"}var rs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X=rs.reduce((e,t)=>{const n=Xe(`Primitive.${t}`),o=l.forwardRef((s,i)=>{const{asChild:a,...c}=s,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:i})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function os(e,t){e&&mt.flushSync(()=>e.dispatchEvent(t))}function Ne(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>t.current?.(...n),[])}function ss(e,t=globalThis?.document){const n=Ne(e);l.useEffect(()=>{const o=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var is="DismissableLayer",_t="dismissableLayer.update",as="dismissableLayer.pointerDownOutside",cs="dismissableLayer.focusOutside",mn,$n=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qt=l.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...d}=e,u=l.useContext($n),[f,h]=l.useState(null),x=f?.ownerDocument??globalThis?.document,[,g]=l.useState({}),w=Z(t,j=>h(j)),p=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(m),y=f?p.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,C=us(j=>{const D=j.target,B=[...u.branches].some(A=>A.contains(D));!S||B||(s?.(j),a?.(j),j.defaultPrevented||c?.())},x),R=fs(j=>{const D=j.target;[...u.branches].some(A=>A.contains(D))||(i?.(j),a?.(j),j.defaultPrevented||c?.())},x);return ss(j=>{y===u.layers.size-1&&(o?.(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},x),l.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(mn=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),gn(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=mn)}},[f,x,n,u]),l.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),gn())},[f,u]),l.useEffect(()=>{const j=()=>g({});return document.addEventListener(_t,j),()=>document.removeEventListener(_t,j)},[]),r.jsx(X.div,{...d,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,R.onFocusCapture),onBlurCapture:K(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,C.onPointerDownCapture)})});qt.displayName=is;var ls="DismissableLayerBranch",ds=l.forwardRef((e,t)=>{const n=l.useContext($n),o=l.useRef(null),s=Z(t,o);return l.useEffect(()=>{const i=o.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(X.div,{...e,ref:s})});ds.displayName=ls;function us(e,t=globalThis?.document){const n=Ne(e),o=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{const i=c=>{if(c.target&&!o.current){let d=function(){Hn(as,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);o.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function fs(e,t=globalThis?.document){const n=Ne(e),o=l.useRef(!1);return l.useEffect(()=>{const s=i=>{i.target&&!o.current&&Hn(cs,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function gn(){const e=new CustomEvent(_t);document.dispatchEvent(e)}function Hn(e,t,n,{discrete:o}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),o?os(s,i):s.dispatchEvent(i)}var Tt=0;function Vn(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xn()),document.body.insertAdjacentElement("beforeend",e[1]??xn()),Tt++,()=>{Tt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tt--}},[])}function xn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kt="focusScope.autoFocusOnMount",At="focusScope.autoFocusOnUnmount",vn={bubbles:!1,cancelable:!0},hs="FocusScope",Zt=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[c,d]=l.useState(null),u=Ne(s),f=Ne(i),h=l.useRef(null),x=Z(t,p=>d(p)),g=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(o){let p=function(b){if(g.paused||!c)return;const S=b.target;c.contains(S)?h.current=S:we(h.current,{select:!0})},m=function(b){if(g.paused||!c)return;const S=b.relatedTarget;S!==null&&(c.contains(S)||we(h.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&we(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",m);const y=new MutationObserver(v);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",m),y.disconnect()}}},[o,c,g.paused]),l.useEffect(()=>{if(c){yn.add(g);const p=document.activeElement;if(!c.contains(p)){const v=new CustomEvent(kt,vn);c.addEventListener(kt,u),c.dispatchEvent(v),v.defaultPrevented||(ps(ws(Yn(c)),{select:!0}),document.activeElement===p&&we(c))}return()=>{c.removeEventListener(kt,u),setTimeout(()=>{const v=new CustomEvent(At,vn);c.addEventListener(At,f),c.dispatchEvent(v),v.defaultPrevented||we(p??document.body,{select:!0}),c.removeEventListener(At,f),yn.remove(g)},0)}}},[c,u,f,g]);const w=l.useCallback(p=>{if(!n&&!o||g.paused)return;const m=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(m&&v){const y=p.currentTarget,[b,S]=ms(y);b&&S?!p.shiftKey&&v===S?(p.preventDefault(),n&&we(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),n&&we(S,{select:!0})):v===y&&p.preventDefault()}},[n,o,g.paused]);return r.jsx(X.div,{tabIndex:-1,...a,ref:x,onKeyDown:w})});Zt.displayName=hs;function ps(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(we(o,{select:t}),document.activeElement!==n)return}function ms(e){const t=Yn(e),n=wn(t,e),o=wn(t.reverse(),e);return[n,o]}function Yn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wn(e,t){for(const n of e)if(!gs(n,{upTo:t}))return n}function gs(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xs(e){return e instanceof HTMLInputElement&&"select"in e}function we(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xs(e)&&t&&e.select()}}var yn=vs();function vs(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=bn(e,t),e.unshift(t)},remove(t){e=bn(e,t),e[0]?.resume()}}}function bn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function ws(e){return e.filter(t=>t.tagName!=="A")}var ee=globalThis?.document?l.useLayoutEffect:()=>{},ys=Dn[" useId ".trim().toString()]||(()=>{}),bs=0;function Me(e){const[t,n]=l.useState(ys());return ee(()=>{n(o=>o??String(bs++))},[e]),e||(t?`radix-${t}`:"")}const Ss=["top","right","bottom","left"],be=Math.min,ne=Math.max,at=Math.round,Qe=Math.floor,fe=e=>({x:e,y:e}),Cs={left:"right",right:"left",bottom:"top",top:"bottom"},js={start:"end",end:"start"};function Ft(e,t,n){return ne(e,be(t,n))}function ge(e,t){return typeof e=="function"?e(t):e}function xe(e){return e.split("-")[0]}function We(e){return e.split("-")[1]}function Jt(e){return e==="x"?"y":"x"}function Qt(e){return e==="y"?"height":"width"}const Es=new Set(["top","bottom"]);function ue(e){return Es.has(xe(e))?"y":"x"}function en(e){return Jt(ue(e))}function Ns(e,t,n){n===void 0&&(n=!1);const o=We(e),s=en(e),i=Qt(s);let a=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=ct(a)),[a,ct(a)]}function Rs(e){const t=ct(e);return[Bt(e),t,Bt(t)]}function Bt(e){return e.replace(/start|end/g,t=>js[t])}const Sn=["left","right"],Cn=["right","left"],Ps=["top","bottom"],Ts=["bottom","top"];function ks(e,t,n){switch(e){case"top":case"bottom":return n?t?Cn:Sn:t?Sn:Cn;case"left":case"right":return t?Ps:Ts;default:return[]}}function As(e,t,n,o){const s=We(e);let i=ks(xe(e),n==="start",o);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Bt)))),i}function ct(e){return e.replace(/left|right|bottom|top/g,t=>Cs[t])}function Is(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kn(e){return typeof e!="number"?Is(e):{top:e,right:e,bottom:e,left:e}}function lt(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function jn(e,t,n){let{reference:o,floating:s}=e;const i=ue(t),a=en(t),c=Qt(a),d=xe(t),u=i==="y",f=o.x+o.width/2-s.width/2,h=o.y+o.height/2-s.height/2,x=o[c]/2-s[c]/2;let g;switch(d){case"top":g={x:f,y:o.y-s.height};break;case"bottom":g={x:f,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:h};break;case"left":g={x:o.x-s.width,y:h};break;default:g={x:o.x,y:o.y}}switch(We(t)){case"start":g[a]-=x*(n&&u?-1:1);break;case"end":g[a]+=x*(n&&u?-1:1);break}return g}const Ms=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=jn(u,o,d),x=o,g={},w=0;for(let p=0;p<c.length;p++){const{name:m,fn:v}=c[p],{x:y,y:b,data:S,reset:C}=await v({x:f,y:h,initialPlacement:o,placement:x,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});f=y??f,h=b??h,g={...g,[m]:{...g[m],...S}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(x=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:f,y:h}=jn(u,x,d)),p=-1)}return{x:f,y:h,placement:x,strategy:s,middlewareData:g}};async function Ge(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:i,rects:a,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:x=!1,padding:g=0}=ge(t,e),w=Kn(g),m=c[x?h==="floating"?"reference":"floating":h],v=lt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:f,strategy:d})),y=h==="floating"?{x:o,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=lt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:b,strategy:d}):y);return{top:(v.top-C.top+w.top)/S.y,bottom:(C.bottom-v.bottom+w.bottom)/S.y,left:(v.left-C.left+w.left)/S.x,right:(C.right-v.right+w.right)/S.x}}const Os=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:s,rects:i,platform:a,elements:c,middlewareData:d}=t,{element:u,padding:f=0}=ge(e,t)||{};if(u==null)return{};const h=Kn(f),x={x:n,y:o},g=en(s),w=Qt(g),p=await a.getDimensions(u),m=g==="y",v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[g]-x[g]-i.floating[w],C=x[g]-i.reference[g],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let j=R?R[b]:0;(!j||!await(a.isElement==null?void 0:a.isElement(R)))&&(j=c.floating[b]||i.floating[w]);const D=S/2-C/2,B=j/2-p[w]/2-1,A=be(h[v],B),T=be(h[y],B),M=A,O=j-p[w]-T,F=j/2-p[w]/2+D,I=Ft(M,F,O),k=!d.arrow&&We(s)!=null&&F!==I&&i.reference[w]/2-(F<M?A:T)-p[w]/2<0,L=k?F<M?F-M:F-O:0;return{[g]:x[g]+L,data:{[g]:I,centerOffset:F-I-L,...k&&{alignmentOffset:L}},reset:k}}}),Ds=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...m}=ge(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=xe(s),y=ue(c),b=xe(c)===c,S=await(d.isRTL==null?void 0:d.isRTL(u.floating)),C=x||(b||!p?[ct(c)]:Rs(c)),R=w!=="none";!x&&R&&C.push(...As(c,p,w,S));const j=[c,...C],D=await Ge(t,m),B=[];let A=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&B.push(D[v]),h){const F=Ns(s,a,S);B.push(D[F[0]],D[F[1]])}if(A=[...A,{placement:s,overflows:B}],!B.every(F=>F<=0)){var T,M;const F=(((T=i.flip)==null?void 0:T.index)||0)+1,I=j[F];if(I&&(!(h==="alignment"?y!==ue(I):!1)||A.every(N=>ue(N.placement)===y?N.overflows[0]>0:!0)))return{data:{index:F,overflows:A},reset:{placement:I}};let k=(M=A.filter(L=>L.overflows[0]<=0).sort((L,N)=>L.overflows[1]-N.overflows[1])[0])==null?void 0:M.placement;if(!k)switch(g){case"bestFit":{var O;const L=(O=A.filter(N=>{if(R){const $=ue(N.placement);return $===y||$==="y"}return!0}).map(N=>[N.placement,N.overflows.filter($=>$>0).reduce(($,J)=>$+J,0)]).sort((N,$)=>N[1]-$[1])[0])==null?void 0:O[0];L&&(k=L);break}case"initialPlacement":k=c;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function En(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nn(e){return Ss.some(t=>e[t]>=0)}const Ls=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...s}=ge(e,t);switch(o){case"referenceHidden":{const i=await Ge(t,{...s,elementContext:"reference"}),a=En(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Nn(a)}}}case"escaped":{const i=await Ge(t,{...s,altBoundary:!0}),a=En(i,n.floating);return{data:{escapedOffsets:a,escaped:Nn(a)}}}default:return{}}}}},Xn=new Set(["left","top"]);async function _s(e,t){const{placement:n,platform:o,elements:s}=e,i=await(o.isRTL==null?void 0:o.isRTL(s.floating)),a=xe(n),c=We(n),d=ue(n)==="y",u=Xn.has(a)?-1:1,f=i&&d?-1:1,h=ge(t,e);let{mainAxis:x,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof w=="number"&&(g=c==="end"?w*-1:w),d?{x:g*f,y:x*u}:{x:x*u,y:g*f}}const Fs=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:i,placement:a,middlewareData:c}=t,d=await _s(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:a}}}}},Bs=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:m=>{let{x:v,y}=m;return{x:v,y}}},...d}=ge(e,t),u={x:n,y:o},f=await Ge(t,d),h=ue(xe(s)),x=Jt(h);let g=u[x],w=u[h];if(i){const m=x==="y"?"top":"left",v=x==="y"?"bottom":"right",y=g+f[m],b=g-f[v];g=Ft(y,g,b)}if(a){const m=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=w+f[m],b=w-f[v];w=Ft(y,w,b)}const p=c.fn({...t,[x]:g,[h]:w});return{...p,data:{x:p.x-n,y:p.y-o,enabled:{[x]:i,[h]:a}}}}}},Ws=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:s,rects:i,middlewareData:a}=t,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=ge(e,t),f={x:n,y:o},h=ue(s),x=Jt(h);let g=f[x],w=f[h];const p=ge(c,t),m=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(d){const b=x==="y"?"height":"width",S=i.reference[x]-i.floating[b]+m.mainAxis,C=i.reference[x]+i.reference[b]-m.mainAxis;g<S?g=S:g>C&&(g=C)}if(u){var v,y;const b=x==="y"?"width":"height",S=Xn.has(xe(s)),C=i.reference[h]-i.floating[b]+(S&&((v=a.offset)==null?void 0:v[h])||0)+(S?0:m.crossAxis),R=i.reference[h]+i.reference[b]+(S?0:((y=a.offset)==null?void 0:y[h])||0)-(S?m.crossAxis:0);w<C?w=C:w>R&&(w=R)}return{[x]:g,[h]:w}}}},Us=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:s,rects:i,platform:a,elements:c}=t,{apply:d=()=>{},...u}=ge(e,t),f=await Ge(t,u),h=xe(s),x=We(s),g=ue(s)==="y",{width:w,height:p}=i.floating;let m,v;h==="top"||h==="bottom"?(m=h,v=x===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(v=h,m=x==="end"?"top":"bottom");const y=p-f.top-f.bottom,b=w-f.left-f.right,S=be(p-f[m],y),C=be(w-f[v],b),R=!t.middlewareData.shift;let j=S,D=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=b),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(j=y),R&&!x){const A=ne(f.left,0),T=ne(f.right,0),M=ne(f.top,0),O=ne(f.bottom,0);g?D=w-2*(A!==0||T!==0?A+T:ne(f.left,f.right)):j=p-2*(M!==0||O!==0?M+O:ne(f.top,f.bottom))}await d({...t,availableWidth:D,availableHeight:j});const B=await a.getDimensions(c.floating);return w!==B.width||p!==B.height?{reset:{rects:!0}}:{}}}};function gt(){return typeof window<"u"}function Ue(e){return Gn(e)?(e.nodeName||"").toLowerCase():"#document"}function re(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pe(e){var t;return(t=(Gn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Gn(e){return gt()?e instanceof Node||e instanceof re(e).Node:!1}function ae(e){return gt()?e instanceof Element||e instanceof re(e).Element:!1}function he(e){return gt()?e instanceof HTMLElement||e instanceof re(e).HTMLElement:!1}function Rn(e){return!gt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof re(e).ShadowRoot}const zs=new Set(["inline","contents"]);function Je(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!zs.has(s)}const $s=new Set(["table","td","th"]);function Hs(e){return $s.has(Ue(e))}const Vs=[":popover-open",":modal"];function xt(e){return Vs.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ys=["transform","translate","scale","rotate","perspective"],Ks=["transform","translate","scale","rotate","perspective","filter"],Xs=["paint","layout","strict","content"];function tn(e){const t=nn(),n=ae(e)?ce(e):e;return Ys.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ks.some(o=>(n.willChange||"").includes(o))||Xs.some(o=>(n.contain||"").includes(o))}function Gs(e){let t=Se(e);for(;he(t)&&!Be(t);){if(tn(t))return t;if(xt(t))return null;t=Se(t)}return null}function nn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qs=new Set(["html","body","#document"]);function Be(e){return qs.has(Ue(e))}function ce(e){return re(e).getComputedStyle(e)}function vt(e){return ae(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Se(e){if(Ue(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rn(e)&&e.host||pe(e);return Rn(t)?t.host:t}function qn(e){const t=Se(e);return Be(t)?e.ownerDocument?e.ownerDocument.body:e.body:he(t)&&Je(t)?t:qn(t)}function qe(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=qn(e),i=s===((o=e.ownerDocument)==null?void 0:o.body),a=re(s);if(i){const c=Wt(a);return t.concat(a,a.visualViewport||[],Je(s)?s:[],c&&n?qe(c):[])}return t.concat(s,qe(s,[],n))}function Wt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zn(e){const t=ce(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=he(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:o,c=at(n)!==i||at(o)!==a;return c&&(n=i,o=a),{width:n,height:o,$:c}}function rn(e){return ae(e)?e:e.contextElement}function Oe(e){const t=rn(e);if(!he(t))return fe(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:i}=Zn(t);let a=(i?at(n.width):n.width)/o,c=(i?at(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Zs=fe(0);function Jn(e){const t=re(e);return!nn()||!t.visualViewport?Zs:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Js(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==re(e)?!1:t}function Re(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=rn(e);let a=fe(1);t&&(o?ae(o)&&(a=Oe(o)):a=Oe(e));const c=Js(i,n,o)?Jn(i):fe(0);let d=(s.left+c.x)/a.x,u=(s.top+c.y)/a.y,f=s.width/a.x,h=s.height/a.y;if(i){const x=re(i),g=o&&ae(o)?re(o):o;let w=x,p=Wt(w);for(;p&&o&&g!==w;){const m=Oe(p),v=p.getBoundingClientRect(),y=ce(p),b=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*m.x,S=v.top+(p.clientTop+parseFloat(y.paddingTop))*m.y;d*=m.x,u*=m.y,f*=m.x,h*=m.y,d+=b,u+=S,w=re(p),p=Wt(w)}}return lt({width:f,height:h,x:d,y:u})}function wt(e,t){const n=vt(e).scrollLeft;return t?t.left+n:Re(pe(e)).left+n}function Qn(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-wt(e,n),s=n.top+t.scrollTop;return{x:o,y:s}}function Qs(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const i=s==="fixed",a=pe(o),c=t?xt(t.floating):!1;if(o===a||c&&i)return n;let d={scrollLeft:0,scrollTop:0},u=fe(1);const f=fe(0),h=he(o);if((h||!h&&!i)&&((Ue(o)!=="body"||Je(a))&&(d=vt(o)),he(o))){const g=Re(o);u=Oe(o),f.x=g.x+o.clientLeft,f.y=g.y+o.clientTop}const x=a&&!h&&!i?Qn(a,d):fe(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+f.x+x.x,y:n.y*u.y-d.scrollTop*u.y+f.y+x.y}}function ei(e){return Array.from(e.getClientRects())}function ti(e){const t=pe(e),n=vt(e),o=e.ownerDocument.body,s=ne(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=ne(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+wt(e);const c=-n.scrollTop;return ce(o).direction==="rtl"&&(a+=ne(t.clientWidth,o.clientWidth)-s),{width:s,height:i,x:a,y:c}}const Pn=25;function ni(e,t){const n=re(e),o=pe(e),s=n.visualViewport;let i=o.clientWidth,a=o.clientHeight,c=0,d=0;if(s){i=s.width,a=s.height;const f=nn();(!f||f&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const u=wt(o);if(u<=0){const f=o.ownerDocument,h=f.body,x=getComputedStyle(h),g=f.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(o.clientWidth-h.clientWidth-g);w<=Pn&&(i-=w)}else u<=Pn&&(i+=u);return{width:i,height:a,x:c,y:d}}const ri=new Set(["absolute","fixed"]);function oi(e,t){const n=Re(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,i=he(e)?Oe(e):fe(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,d=s*i.x,u=o*i.y;return{width:a,height:c,x:d,y:u}}function Tn(e,t,n){let o;if(t==="viewport")o=ni(e,n);else if(t==="document")o=ti(pe(e));else if(ae(t))o=oi(t,n);else{const s=Jn(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return lt(o)}function er(e,t){const n=Se(e);return n===t||!ae(n)||Be(n)?!1:ce(n).position==="fixed"||er(n,t)}function si(e,t){const n=t.get(e);if(n)return n;let o=qe(e,[],!1).filter(c=>ae(c)&&Ue(c)!=="body"),s=null;const i=ce(e).position==="fixed";let a=i?Se(e):e;for(;ae(a)&&!Be(a);){const c=ce(a),d=tn(a);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&ri.has(s.position)||Je(a)&&!d&&er(e,a))?o=o.filter(f=>f!==a):s=c,a=Se(a)}return t.set(e,o),o}function ii(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const a=[...n==="clippingAncestors"?xt(t)?[]:si(t,this._c):[].concat(n),o],c=a[0],d=a.reduce((u,f)=>{const h=Tn(t,f,s);return u.top=ne(h.top,u.top),u.right=be(h.right,u.right),u.bottom=be(h.bottom,u.bottom),u.left=ne(h.left,u.left),u},Tn(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ai(e){const{width:t,height:n}=Zn(e);return{width:t,height:n}}function ci(e,t,n){const o=he(t),s=pe(t),i=n==="fixed",a=Re(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=fe(0);function u(){d.x=wt(s)}if(o||!o&&!i)if((Ue(t)!=="body"||Je(s))&&(c=vt(t)),o){const g=Re(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else s&&u();i&&!o&&s&&u();const f=s&&!o&&!i?Qn(s,c):fe(0),h=a.left+c.scrollLeft-d.x-f.x,x=a.top+c.scrollTop-d.y-f.y;return{x:h,y:x,width:a.width,height:a.height}}function It(e){return ce(e).position==="static"}function kn(e,t){if(!he(e)||ce(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pe(e)===n&&(n=n.ownerDocument.body),n}function tr(e,t){const n=re(e);if(xt(e))return n;if(!he(e)){let s=Se(e);for(;s&&!Be(s);){if(ae(s)&&!It(s))return s;s=Se(s)}return n}let o=kn(e,t);for(;o&&Hs(o)&&It(o);)o=kn(o,t);return o&&Be(o)&&It(o)&&!tn(o)?n:o||Gs(e)||n}const li=async function(e){const t=this.getOffsetParent||tr,n=this.getDimensions,o=await n(e.floating);return{reference:ci(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function di(e){return ce(e).direction==="rtl"}const ui={convertOffsetParentRelativeRectToViewportRelativeRect:Qs,getDocumentElement:pe,getClippingRect:ii,getOffsetParent:tr,getElementRects:li,getClientRects:ei,getDimensions:ai,getScale:Oe,isElement:ae,isRTL:di};function nr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fi(e,t){let n=null,o;const s=pe(e);function i(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:f,top:h,width:x,height:g}=u;if(c||t(),!x||!g)return;const w=Qe(h),p=Qe(s.clientWidth-(f+x)),m=Qe(s.clientHeight-(h+g)),v=Qe(f),b={rootMargin:-w+"px "+-p+"px "+-m+"px "+-v+"px",threshold:ne(0,be(1,d))||1};let S=!0;function C(R){const j=R[0].intersectionRatio;if(j!==d){if(!S)return a();j?a(!1,j):o=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!nr(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return a(!0),i}function hi(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,u=rn(e),f=s||i?[...u?qe(u):[],...qe(t)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&c?fi(u,n):null;let x=-1,g=null;a&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!d&&g.observe(u),g.observe(t));let w,p=d?Re(e):null;d&&m();function m(){const v=Re(e);p&&!nr(p,v)&&n(),p=v,w=requestAnimationFrame(m)}return n(),()=>{var v;f.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h?.(),(v=g)==null||v.disconnect(),g=null,d&&cancelAnimationFrame(w)}}const pi=Fs,mi=Bs,gi=Ds,xi=Us,vi=Ls,An=Os,wi=Ws,yi=(e,t,n)=>{const o=new Map,s={platform:ui,...n},i={...s.platform,_c:o};return Ms(e,t,{...s,platform:i})};var bi=typeof document<"u",Si=function(){},rt=bi?l.useLayoutEffect:Si;function dt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!dt(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){const i=s[o];if(!(i==="_owner"&&e.$$typeof)&&!dt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rr(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function In(e,t){const n=rr(e);return Math.round(t*n)/n}function Mt(e){const t=l.useRef(e);return rt(()=>{t.current=e}),t}function Ci(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[f,h]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,g]=l.useState(o);dt(x,o)||g(o);const[w,p]=l.useState(null),[m,v]=l.useState(null),y=l.useCallback(N=>{N!==R.current&&(R.current=N,p(N))},[]),b=l.useCallback(N=>{N!==j.current&&(j.current=N,v(N))},[]),S=i||w,C=a||m,R=l.useRef(null),j=l.useRef(null),D=l.useRef(f),B=d!=null,A=Mt(d),T=Mt(s),M=Mt(u),O=l.useCallback(()=>{if(!R.current||!j.current)return;const N={placement:t,strategy:n,middleware:x};T.current&&(N.platform=T.current),yi(R.current,j.current,N).then($=>{const J={...$,isPositioned:M.current!==!1};F.current&&!dt(D.current,J)&&(D.current=J,mt.flushSync(()=>{h(J)}))})},[x,t,n,T,M]);rt(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(N=>({...N,isPositioned:!1})))},[u]);const F=l.useRef(!1);rt(()=>(F.current=!0,()=>{F.current=!1}),[]),rt(()=>{if(S&&(R.current=S),C&&(j.current=C),S&&C){if(A.current)return A.current(S,C,O);O()}},[S,C,O,A,B]);const I=l.useMemo(()=>({reference:R,floating:j,setReference:y,setFloating:b}),[y,b]),k=l.useMemo(()=>({reference:S,floating:C}),[S,C]),L=l.useMemo(()=>{const N={position:n,left:0,top:0};if(!k.floating)return N;const $=In(k.floating,f.x),J=In(k.floating,f.y);return c?{...N,transform:"translate("+$+"px, "+J+"px)",...rr(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:J}},[n,c,k.floating,f.x,f.y]);return l.useMemo(()=>({...f,update:O,refs:I,elements:k,floatingStyles:L}),[f,O,I,k,L])}const ji=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:s}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?An({element:o.current,padding:s}).fn(n):{}:o?An({element:o,padding:s}).fn(n):{}}}},Ei=(e,t)=>({...pi(e),options:[e,t]}),Ni=(e,t)=>({...mi(e),options:[e,t]}),Ri=(e,t)=>({...wi(e),options:[e,t]}),Pi=(e,t)=>({...gi(e),options:[e,t]}),Ti=(e,t)=>({...xi(e),options:[e,t]}),ki=(e,t)=>({...vi(e),options:[e,t]}),Ai=(e,t)=>({...ji(e),options:[e,t]});var Ii="Arrow",or=l.forwardRef((e,t)=>{const{children:n,width:o=10,height:s=5,...i}=e;return r.jsx(X.svg,{...i,ref:t,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});or.displayName=Ii;var Mi=or;function sr(e){const[t,n]=l.useState(void 0);return ee(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;a=u.inlineSize,c=u.blockSize}else a=e.offsetWidth,c=e.offsetHeight;n({width:a,height:c})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var on="Popper",[ir,ar]=Ze(on),[Oi,cr]=ir(on),lr=e=>{const{__scopePopper:t,children:n}=e,[o,s]=l.useState(null);return r.jsx(Oi,{scope:t,anchor:o,onAnchorChange:s,children:n})};lr.displayName=on;var dr="PopperAnchor",ur=l.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...s}=e,i=cr(dr,n),a=l.useRef(null),c=Z(t,a),d=l.useRef(null);return l.useEffect(()=>{const u=d.current;d.current=o?.current||a.current,u!==d.current&&i.onAnchorChange(d.current)}),o?null:r.jsx(X.div,{...s,ref:c})});ur.displayName=dr;var sn="PopperContent",[Di,Li]=ir(sn),fr=l.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:g="optimized",onPlaced:w,...p}=e,m=cr(sn,n),[v,y]=l.useState(null),b=Z(t,P=>y(P)),[S,C]=l.useState(null),R=sr(S),j=R?.width??0,D=R?.height??0,B=o+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(u)?u:[u],M=T.length>0,O={padding:A,boundary:T.filter(Fi),altBoundary:M},{refs:F,floatingStyles:I,placement:k,isPositioned:L,middlewareData:N}=Ci({strategy:"fixed",placement:B,whileElementsMounted:(...P)=>hi(...P,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[Ei({mainAxis:s+D,alignmentAxis:a}),d&&Ni({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Ri():void 0,...O}),d&&Pi({...O}),Ti({...O,apply:({elements:P,rects:V,availableWidth:E,availableHeight:_})=>{const{width:U,height:W}=V.reference,H=P.floating.style;H.setProperty("--radix-popper-available-width",`${E}px`),H.setProperty("--radix-popper-available-height",`${_}px`),H.setProperty("--radix-popper-anchor-width",`${U}px`),H.setProperty("--radix-popper-anchor-height",`${W}px`)}}),S&&Ai({element:S,padding:c}),Bi({arrowWidth:j,arrowHeight:D}),x&&ki({strategy:"referenceHidden",...O})]}),[$,J]=mr(k),se=Ne(w);ee(()=>{L&&se?.()},[L,se]);const te=N.arrow?.x,oe=N.arrow?.y,z=N.arrow?.centerOffset!==0,[Y,G]=l.useState();return ee(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),r.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:L?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Di,{scope:n,placedSide:$,onArrowChange:C,arrowX:te,arrowY:oe,shouldHideArrow:z,children:r.jsx(X.div,{"data-side":$,"data-align":J,...p,ref:b,style:{...p.style,animation:L?void 0:"none"}})})})});fr.displayName=sn;var hr="PopperArrow",_i={top:"bottom",right:"left",bottom:"top",left:"right"},pr=l.forwardRef(function(t,n){const{__scopePopper:o,...s}=t,i=Li(hr,o),a=_i[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(Mi,{...s,ref:n,style:{...s.style,display:"block"}})})});pr.displayName=hr;function Fi(e){return e!==null}var Bi=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,c=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[u,f]=mr(n),h={start:"0%",center:"50%",end:"100%"}[f],x=(s.arrow?.x??0)+c/2,g=(s.arrow?.y??0)+d/2;let w="",p="";return u==="bottom"?(w=a?h:`${x}px`,p=`${-d}px`):u==="top"?(w=a?h:`${x}px`,p=`${o.floating.height+d}px`):u==="right"?(w=`${-d}px`,p=a?h:`${g}px`):u==="left"&&(w=`${o.floating.width+d}px`,p=a?h:`${g}px`),{data:{x:w,y:p}}}});function mr(e){const[t,n="center"]=e.split("-");return[t,n]}var Wi=lr,Ui=ur,zi=fr,$i=pr,Hi="Portal",an=l.forwardRef((e,t)=>{const{container:n,...o}=e,[s,i]=l.useState(!1);ee(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?Po.createPortal(r.jsx(X.div,{...o,ref:t}),a):null});an.displayName=Hi;var Vi=Dn[" useInsertionEffect ".trim().toString()]||ee;function ut({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[s,i,a]=Yi({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const f=l.useRef(e!==void 0);l.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,o])}const u=l.useCallback(f=>{if(c){const h=Ki(f)?f(e):f;h!==e&&a.current?.(h)}else i(f)},[c,e,i,a]);return[d,u]}function Yi({defaultProp:e,onChange:t}){const[n,o]=l.useState(e),s=l.useRef(n),i=l.useRef(t);return Vi(()=>{i.current=t},[t]),l.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,o,i]}function Ki(e){return typeof e=="function"}function gr(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xr=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xi="VisuallyHidden",Gi=l.forwardRef((e,t)=>r.jsx(X.span,{...e,ref:t,style:{...xr,...e.style}}));Gi.displayName=Xi;var qi=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ae=new WeakMap,et=new WeakMap,tt={},Ot=0,vr=function(e){return e&&(e.host||vr(e.parentNode))},Zi=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=vr(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ji=function(e,t,n,o){var s=Zi(t,Array.isArray(e)?e:[e]);tt[n]||(tt[n]=new WeakMap);var i=tt[n],a=[],c=new Set,d=new Set(s),u=function(h){!h||c.has(h)||(c.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(x){if(c.has(x))f(x);else try{var g=x.getAttribute(o),w=g!==null&&g!=="false",p=(Ae.get(x)||0)+1,m=(i.get(x)||0)+1;Ae.set(x,p),i.set(x,m),a.push(x),p===1&&w&&et.set(x,!0),m===1&&x.setAttribute(n,"true"),w||x.setAttribute(o,"true")}catch(v){console.error("aria-hidden: cannot operate on ",x,v)}})};return f(t),c.clear(),Ot++,function(){a.forEach(function(h){var x=Ae.get(h)-1,g=i.get(h)-1;Ae.set(h,x),i.set(h,g),x||(et.has(h)||h.removeAttribute(o),et.delete(h)),g||h.removeAttribute(n)}),Ot--,Ot||(Ae=new WeakMap,Ae=new WeakMap,et=new WeakMap,tt={})}},wr=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),s=qi(e);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live], script"))),Ji(o,s,n,"aria-hidden")):function(){return null}},Qi=[" ","Enter","ArrowUp","ArrowDown"],ea=[" ","Enter"],Pe="Select",[yt,bt,ta]=Un(Pe),[ze]=Ze(Pe,[ta,ar]),St=ar(),[na,Ce]=ze(Pe),[ra,oa]=ze(Pe),yr=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:d,dir:u,name:f,autoComplete:h,disabled:x,required:g,form:w}=e,p=St(t),[m,v]=l.useState(null),[y,b]=l.useState(null),[S,C]=l.useState(!1),R=zn(u),[j,D]=ut({prop:o,defaultProp:s??!1,onChange:i,caller:Pe}),[B,A]=ut({prop:a,defaultProp:c,onChange:d,caller:Pe}),T=l.useRef(null),M=m?w||!!m.closest("form"):!0,[O,F]=l.useState(new Set),I=Array.from(O).map(k=>k.props.value).join(";");return r.jsx(Wi,{...p,children:r.jsxs(na,{required:g,scope:t,trigger:m,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Me(),value:B,onValueChange:A,open:j,onOpenChange:D,dir:R,triggerPointerDownPosRef:T,disabled:x,children:[r.jsx(yt.Provider,{scope:t,children:r.jsx(ra,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(k=>{F(L=>new Set(L).add(k))},[]),onNativeOptionRemove:l.useCallback(k=>{F(L=>{const N=new Set(L);return N.delete(k),N})},[]),children:n})}),M?r.jsxs(Ur,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:B,onChange:k=>A(k.target.value),disabled:x,form:w,children:[B===void 0?r.jsx("option",{value:""}):null,Array.from(O)]},I):null]})})};yr.displayName=Pe;var br="SelectTrigger",Sr=l.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...s}=e,i=St(n),a=Ce(br,n),c=a.disabled||o,d=Z(t,a.onTriggerChange),u=bt(n),f=l.useRef("touch"),[h,x,g]=$r(p=>{const m=u().filter(b=>!b.disabled),v=m.find(b=>b.value===a.value),y=Hr(m,p,v);y!==void 0&&a.onValueChange(y.value)}),w=p=>{c||(a.onOpenChange(!0),g()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return r.jsx(Ui,{asChild:!0,...i,children:r.jsx(X.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":zr(a.value)?"":void 0,...s,ref:d,onClick:K(s.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&w(p)}),onPointerDown:K(s.onPointerDown,p=>{f.current=p.pointerType;const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:K(s.onKeyDown,p=>{const m=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&x(p.key),!(m&&p.key===" ")&&Qi.includes(p.key)&&(w(),p.preventDefault())})})})});Sr.displayName=br;var Cr="SelectValue",jr=l.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:s,children:i,placeholder:a="",...c}=e,d=Ce(Cr,n),{onValueNodeHasChildrenChange:u}=d,f=i!==void 0,h=Z(t,d.onValueNodeChange);return ee(()=>{u(f)},[u,f]),r.jsx(X.span,{...c,ref:h,style:{pointerEvents:"none"},children:zr(d.value)?r.jsx(r.Fragment,{children:a}):i})});jr.displayName=Cr;var sa="SelectIcon",Er=l.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...s}=e;return r.jsx(X.span,{"aria-hidden":!0,...s,ref:t,children:o||""})});Er.displayName=sa;var ia="SelectPortal",Nr=e=>r.jsx(an,{asChild:!0,...e});Nr.displayName=ia;var Te="SelectContent",Rr=l.forwardRef((e,t)=>{const n=Ce(Te,e.__scopeSelect),[o,s]=l.useState();if(ee(()=>{s(new DocumentFragment)},[]),!n.open){const i=o;return i?mt.createPortal(r.jsx(Pr,{scope:e.__scopeSelect,children:r.jsx(yt.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Tr,{...e,ref:t})});Rr.displayName=Te;var ie=10,[Pr,je]=ze(Te),aa="SelectContentImpl",ca=Xe("SelectContent.RemoveScroll"),Tr=l.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:d,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:x,collisionPadding:g,sticky:w,hideWhenDetached:p,avoidCollisions:m,...v}=e,y=Ce(Te,n),[b,S]=l.useState(null),[C,R]=l.useState(null),j=Z(t,P=>S(P)),[D,B]=l.useState(null),[A,T]=l.useState(null),M=bt(n),[O,F]=l.useState(!1),I=l.useRef(!1);l.useEffect(()=>{if(b)return wr(b)},[b]),Vn();const k=l.useCallback(P=>{const[V,...E]=M().map(W=>W.ref.current),[_]=E.slice(-1),U=document.activeElement;for(const W of P)if(W===U||(W?.scrollIntoView({block:"nearest"}),W===V&&C&&(C.scrollTop=0),W===_&&C&&(C.scrollTop=C.scrollHeight),W?.focus(),document.activeElement!==U))return},[M,C]),L=l.useCallback(()=>k([D,b]),[k,D,b]);l.useEffect(()=>{O&&L()},[O,L]);const{onOpenChange:N,triggerPointerDownPosRef:$}=y;l.useEffect(()=>{if(b){let P={x:0,y:0};const V=_=>{P={x:Math.abs(Math.round(_.pageX)-($.current?.x??0)),y:Math.abs(Math.round(_.pageY)-($.current?.y??0))}},E=_=>{P.x<=10&&P.y<=10?_.preventDefault():b.contains(_.target)||N(!1),document.removeEventListener("pointermove",V),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",E,{capture:!0})}}},[b,N,$]),l.useEffect(()=>{const P=()=>N(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[N]);const[J,se]=$r(P=>{const V=M().filter(U=>!U.disabled),E=V.find(U=>U.ref.current===document.activeElement),_=Hr(V,P,E);_&&setTimeout(()=>_.ref.current.focus())}),te=l.useCallback((P,V,E)=>{const _=!I.current&&!E;(y.value!==void 0&&y.value===V||_)&&(B(P),_&&(I.current=!0))},[y.value]),oe=l.useCallback(()=>b?.focus(),[b]),z=l.useCallback((P,V,E)=>{const _=!I.current&&!E;(y.value!==void 0&&y.value===V||_)&&T(P)},[y.value]),Y=o==="popper"?Ut:kr,G=Y===Ut?{side:c,sideOffset:d,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:x,collisionPadding:g,sticky:w,hideWhenDetached:p,avoidCollisions:m}:{};return r.jsx(Pr,{scope:n,content:b,viewport:C,onViewportChange:R,itemRefCallback:te,selectedItem:D,onItemLeave:oe,itemTextRefCallback:z,focusSelectedItem:L,selectedItemText:A,position:o,isPositioned:O,searchRef:J,children:r.jsx(Ln,{as:ca,allowPinchZoom:!0,children:r.jsx(Zt,{asChild:!0,trapped:y.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:K(s,P=>{y.trigger?.focus({preventScroll:!0}),P.preventDefault()}),children:r.jsx(qt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(Y,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:P=>P.preventDefault(),...v,...G,onPlaced:()=>F(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:K(v.onKeyDown,P=>{const V=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!V&&P.key.length===1&&se(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let _=M().filter(U=>!U.disabled).map(U=>U.ref.current);if(["ArrowUp","End"].includes(P.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const U=P.target,W=_.indexOf(U);_=_.slice(W+1)}setTimeout(()=>k(_)),P.preventDefault()}})})})})})})});Tr.displayName=aa;var la="SelectItemAlignedPosition",kr=l.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...s}=e,i=Ce(Te,n),a=je(Te,n),[c,d]=l.useState(null),[u,f]=l.useState(null),h=Z(t,j=>f(j)),x=bt(n),g=l.useRef(!1),w=l.useRef(!0),{viewport:p,selectedItem:m,selectedItemText:v,focusSelectedItem:y}=a,b=l.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&p&&m&&v){const j=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(i.dir!=="rtl"){const U=A.left-D.left,W=B.left-U,H=j.left-W,q=j.width+H,me=Math.max(q,D.width),Q=window.innerWidth-ie,ve=it(W,[ie,Math.max(ie,Q-me)]);c.style.minWidth=q+"px",c.style.left=ve+"px"}else{const U=D.right-A.right,W=window.innerWidth-B.right-U,H=window.innerWidth-j.right-W,q=j.width+H,me=Math.max(q,D.width),Q=window.innerWidth-ie,ve=it(W,[ie,Math.max(ie,Q-me)]);c.style.minWidth=q+"px",c.style.right=ve+"px"}const T=x(),M=window.innerHeight-ie*2,O=p.scrollHeight,F=window.getComputedStyle(u),I=parseInt(F.borderTopWidth,10),k=parseInt(F.paddingTop,10),L=parseInt(F.borderBottomWidth,10),N=parseInt(F.paddingBottom,10),$=I+k+O+N+L,J=Math.min(m.offsetHeight*5,$),se=window.getComputedStyle(p),te=parseInt(se.paddingTop,10),oe=parseInt(se.paddingBottom,10),z=j.top+j.height/2-ie,Y=M-z,G=m.offsetHeight/2,P=m.offsetTop+G,V=I+k+P,E=$-V;if(V<=z){const U=T.length>0&&m===T[T.length-1].ref.current;c.style.bottom="0px";const W=u.clientHeight-p.offsetTop-p.offsetHeight,H=Math.max(Y,G+(U?oe:0)+W+L),q=V+H;c.style.height=q+"px"}else{const U=T.length>0&&m===T[0].ref.current;c.style.top="0px";const H=Math.max(z,I+p.offsetTop+(U?te:0)+G)+E;c.style.height=H+"px",p.scrollTop=V-z+p.offsetTop}c.style.margin=`${ie}px 0`,c.style.minHeight=J+"px",c.style.maxHeight=M+"px",o?.(),requestAnimationFrame(()=>g.current=!0)}},[x,i.trigger,i.valueNode,c,u,p,m,v,i.dir,o]);ee(()=>b(),[b]);const[S,C]=l.useState();ee(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const R=l.useCallback(j=>{j&&w.current===!0&&(b(),y?.(),w.current=!1)},[b,y]);return r.jsx(ua,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(X.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kr.displayName=la;var da="SelectPopperPosition",Ut=l.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:s=ie,...i}=e,a=St(n);return r.jsx(zi,{...a,...i,ref:t,align:o,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ut.displayName=da;var[ua,cn]=ze(Te,{}),zt="SelectViewport",Ar=l.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...s}=e,i=je(zt,n),a=cn(zt,n),c=Z(t,i.onViewportChange),d=l.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(yt.Slot,{scope:n,children:r.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:x}=a;if(x?.current&&h){const g=Math.abs(d.current-f.scrollTop);if(g>0){const w=window.innerHeight-ie*2,p=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),v=Math.max(p,m);if(v<w){const y=v+g,b=Math.min(w,y),S=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});Ar.displayName=zt;var Ir="SelectGroup",[fa,ha]=ze(Ir),Mr=l.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,s=Me();return r.jsx(fa,{scope:n,id:s,children:r.jsx(X.div,{role:"group","aria-labelledby":s,...o,ref:t})})});Mr.displayName=Ir;var Or="SelectLabel",Dr=l.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,s=ha(Or,n);return r.jsx(X.div,{id:s.id,...o,ref:t})});Dr.displayName=Or;var ft="SelectItem",[pa,Lr]=ze(ft),_r=l.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:s=!1,textValue:i,...a}=e,c=Ce(ft,n),d=je(ft,n),u=c.value===o,[f,h]=l.useState(i??""),[x,g]=l.useState(!1),w=Z(t,y=>d.itemRefCallback?.(y,o,s)),p=Me(),m=l.useRef("touch"),v=()=>{s||(c.onValueChange(o),c.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(pa,{scope:n,value:o,disabled:s,textId:p,isSelected:u,onItemTextChange:l.useCallback(y=>{h(b=>b||(y?.textContent??"").trim())},[]),children:r.jsx(yt.ItemSlot,{scope:n,value:o,disabled:s,textValue:f,children:r.jsx(X.div,{role:"option","aria-labelledby":p,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:K(a.onFocus,()=>g(!0)),onBlur:K(a.onBlur,()=>g(!1)),onClick:K(a.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:K(a.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:K(a.onPointerDown,y=>{m.current=y.pointerType}),onPointerMove:K(a.onPointerMove,y=>{m.current=y.pointerType,s?d.onItemLeave?.():m.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(a.onPointerLeave,y=>{y.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:K(a.onKeyDown,y=>{d.searchRef?.current!==""&&y.key===" "||(ea.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});_r.displayName=ft;var He="SelectItemText",Fr=l.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:s,...i}=e,a=Ce(He,n),c=je(He,n),d=Lr(He,n),u=oa(He,n),[f,h]=l.useState(null),x=Z(t,v=>h(v),d.onItemTextChange,v=>c.itemTextRefCallback?.(v,d.value,d.disabled)),g=f?.textContent,w=l.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:m}=u;return ee(()=>(p(w),()=>m(w)),[p,m,w]),r.jsxs(r.Fragment,{children:[r.jsx(X.span,{id:d.textId,...i,ref:x}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?mt.createPortal(i.children,a.valueNode):null]})});Fr.displayName=He;var Br="SelectItemIndicator",ma=l.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return Lr(Br,n).isSelected?r.jsx(X.span,{"aria-hidden":!0,...o,ref:t}):null});ma.displayName=Br;var $t="SelectScrollUpButton",ga=l.forwardRef((e,t)=>{const n=je($t,e.__scopeSelect),o=cn($t,e.__scopeSelect),[s,i]=l.useState(!1),a=Z(t,o.onScrollButtonChange);return ee(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?r.jsx(Wr,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});ga.displayName=$t;var Ht="SelectScrollDownButton",xa=l.forwardRef((e,t)=>{const n=je(Ht,e.__scopeSelect),o=cn(Ht,e.__scopeSelect),[s,i]=l.useState(!1),a=Z(t,o.onScrollButtonChange);return ee(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?r.jsx(Wr,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});xa.displayName=Ht;var Wr=l.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...s}=e,i=je("SelectScrollButton",n),a=l.useRef(null),c=bt(n),d=l.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return l.useEffect(()=>()=>d(),[d]),ee(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),r.jsx(X.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(o,50))}),onPointerMove:K(s.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(o,50))}),onPointerLeave:K(s.onPointerLeave,()=>{d()})})}),va="SelectSeparator",wa=l.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return r.jsx(X.div,{"aria-hidden":!0,...o,ref:t})});wa.displayName=va;var Vt="SelectArrow",ya=l.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,s=St(n),i=Ce(Vt,n),a=je(Vt,n);return i.open&&a.position==="popper"?r.jsx($i,{...s,...o,ref:t}):null});ya.displayName=Vt;var ba="SelectBubbleInput",Ur=l.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const s=l.useRef(null),i=Z(o,s),a=gr(t);return l.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&f){const h=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(h)}},[a,t]),r.jsx(X.select,{...n,style:{...xr,...n.style},ref:i,defaultValue:t})});Ur.displayName=ba;function zr(e){return e===""||e===void 0}function $r(e){const t=Ne(e),n=l.useRef(""),o=l.useRef(0),s=l.useCallback(a=>{const c=n.current+a;t(c),(function d(u){n.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=l.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,s,i]}function Hr(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=Sa(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const d=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Sa(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Ca=yr,ja=Sr,Ea=jr,Na=Er,Ra=Nr,Pa=Rr,Ta=Ar,ka=Mr,Aa=Dr,Ia=_r,Ma=Fr;const Oa=de.memo(function({flags:t,selectedFlagId:n,onFlagChange:o}){const s=l.useMemo(()=>t.reduce((c,d)=>(d.category&&(c[d.category]||(c[d.category]=[]),c[d.category].push(d)),c),{}),[t]),i=l.useMemo(()=>Object.keys(s).sort((d,u)=>{const f=s[d]?.[0]?.categoryDisplayOrder??999,h=s[u]?.[0]?.categoryDisplayOrder??999;return f-h}),[s]),a=c=>{const d=s[c];return d&&d.length>0?d[0].categoryDisplayName??c:c};return r.jsx("div",{className:"flag-selector",children:r.jsxs(Ca,{value:n??"",onValueChange:c=>o(c||null),children:[r.jsxs(ja,{className:"flag-select-trigger","aria-label":"Choose a flag",children:[r.jsx(Ea,{placeholder:"Choose a flag"}),r.jsx(Na,{className:"flag-select-icon",children:""})]}),r.jsx(Ra,{children:r.jsx(Pa,{className:"flag-select-content",position:"popper",children:r.jsx(Ta,{children:i.map(c=>r.jsxs(ka,{children:[r.jsx(Aa,{className:"flag-select-label",children:a(c)}),s[c].map(d=>r.jsx(Ia,{value:d.id,className:"flag-select-item",children:r.jsx(Ma,{children:d.displayName})},d.id))]},c))})})})]})})});function Da(e,t){return l.useReducer((n,o)=>t[n][o]??n,e)}var Ct=e=>{const{present:t,children:n}=e,o=La(t),s=typeof n=="function"?n({present:o.isPresent}):l.Children.only(n),i=Z(o.ref,_a(s));return typeof n=="function"||o.isPresent?l.cloneElement(s,{ref:i}):null};Ct.displayName="Presence";function La(e){const[t,n]=l.useState(),o=l.useRef(null),s=l.useRef(e),i=l.useRef("none"),a=e?"mounted":"unmounted",[c,d]=Da(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=nt(o.current);i.current=c==="mounted"?u:"none"},[c]),ee(()=>{const u=o.current,f=s.current;if(f!==e){const x=i.current,g=nt(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(f&&x!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),ee(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=g=>{const p=nt(o.current).includes(CSS.escape(g.animationName));if(g.target===t&&p&&(d("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},x=g=>{g.target===t&&(i.current=nt(o.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(u=>{o.current=u?getComputedStyle(u):null,n(u)},[])}}function nt(e){return e?.animationName||"none"}function _a(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jt="Dialog",[Vr]=Ze(jt),[Fa,le]=Vr(jt),Yr=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,c=l.useRef(null),d=l.useRef(null),[u,f]=ut({prop:o,defaultProp:s??!1,onChange:i,caller:jt});return r.jsx(Fa,{scope:t,triggerRef:c,contentRef:d,contentId:Me(),titleId:Me(),descriptionId:Me(),open:u,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(h=>!h),[f]),modal:a,children:n})};Yr.displayName=jt;var Kr="DialogTrigger",Ba=l.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=le(Kr,n),i=Z(t,s.triggerRef);return r.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":un(s.open),...o,ref:i,onClick:K(e.onClick,s.onOpenToggle)})});Ba.displayName=Kr;var ln="DialogPortal",[Wa,Xr]=Vr(ln,{forceMount:void 0}),Gr=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:s}=e,i=le(ln,t);return r.jsx(Wa,{scope:t,forceMount:n,children:l.Children.map(o,a=>r.jsx(Ct,{present:n||i.open,children:r.jsx(an,{asChild:!0,container:s,children:a})}))})};Gr.displayName=ln;var ht="DialogOverlay",qr=l.forwardRef((e,t)=>{const n=Xr(ht,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,i=le(ht,e.__scopeDialog);return i.modal?r.jsx(Ct,{present:o||i.open,children:r.jsx(za,{...s,ref:t})}):null});qr.displayName=ht;var Ua=Xe("DialogOverlay.RemoveScroll"),za=l.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=le(ht,n);return r.jsx(Ln,{as:Ua,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(X.div,{"data-state":un(s.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),ke="DialogContent",Zr=l.forwardRef((e,t)=>{const n=Xr(ke,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,i=le(ke,e.__scopeDialog);return r.jsx(Ct,{present:o||i.open,children:i.modal?r.jsx($a,{...s,ref:t}):r.jsx(Ha,{...s,ref:t})})});Zr.displayName=ke;var $a=l.forwardRef((e,t)=>{const n=le(ke,e.__scopeDialog),o=l.useRef(null),s=Z(t,n.contentRef,o);return l.useEffect(()=>{const i=o.current;if(i)return wr(i)},[]),r.jsx(Jr,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault())})}),Ha=l.forwardRef((e,t)=>{const n=le(ke,e.__scopeDialog),o=l.useRef(!1),s=l.useRef(!1);return r.jsx(Jr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(o.current||n.triggerRef.current?.focus(),i.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Jr=l.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,c=le(ke,n),d=l.useRef(null),u=Z(t,d);return Vn(),r.jsxs(r.Fragment,{children:[r.jsx(Zt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:i,children:r.jsx(qt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":un(c.open),...a,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Ya,{titleId:c.titleId}),r.jsx(Xa,{contentRef:d,descriptionId:c.descriptionId})]})]})}),dn="DialogTitle",Qr=l.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=le(dn,n);return r.jsx(X.h2,{id:s.titleId,...o,ref:t})});Qr.displayName=dn;var eo="DialogDescription",Va=l.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=le(eo,n);return r.jsx(X.p,{id:s.descriptionId,...o,ref:t})});Va.displayName=eo;var to="DialogClose",no=l.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=le(to,n);return r.jsx(X.button,{type:"button",...o,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});no.displayName=to;function un(e){return e?"open":"closed"}var ro="DialogTitleWarning",[Pc,oo]=Go(ro,{contentName:ke,titleName:dn,docsSlug:"dialog"}),Ya=({titleId:e})=>{const t=oo(ro),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ka="DialogDescriptionWarning",Xa=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oo(Ka).contentName}}.`;return l.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},so=Yr,io=Gr,ao=qr,co=Zr,lo=Qr,pt=no;function Ga({open:e,onOpenChange:t,flag:n}){return n?r.jsx(so,{open:e,onOpenChange:t,children:r.jsxs(io,{children:[r.jsx(ao,{className:"dialog-overlay"}),r.jsxs(co,{className:"dialog-content","aria-describedby":"flag-details-description",onOpenAutoFocus:o=>{o.preventDefault();const s=o.currentTarget;s&&(s.scrollTop=0)},children:[r.jsx(pt,{asChild:!0,children:r.jsx("button",{className:"dialog-close-button","aria-label":"Close dialog",children:""})}),r.jsx(lo,{className:"dialog-title",children:n.name||n.displayName}),r.jsxs("div",{className:"dialog-body",id:"flag-details-description",children:[n.reason&&r.jsx("div",{className:"flag-detail-narrative",children:r.jsx("p",{className:"flag-detail-reason",children:n.reason})}),n.references&&n.references.length>0&&r.jsxs("div",{className:"flag-detail-references",children:[r.jsx("h3",{className:"flag-detail-label",children:"Further reading"}),r.jsx("ul",{className:"flag-reference-list",children:n.references.map((o,s)=>r.jsx("li",{children:r.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"dialog-link",children:o.text})},s))})]})]}),r.jsx("div",{className:"dialog-actions",children:r.jsx(pt,{asChild:!0,children:r.jsx("button",{className:"dialog-button",children:"Close"})})})]})]})}):null}const qa=de.memo(function({flag:t}){const n=t?.id??null,o=t?t.png_preview||t.png_full:null,s=l.useRef(null),[i,a]=l.useState(null),[c,d]=l.useState(!1);if(l.useEffect(()=>{if(o&&n){const f=Ie(`flags/${o}`);s.current&&(s.current.src="",s.current.removeAttribute("src"));const h=setTimeout(()=>{a(`${f}?v=${n}-${Date.now()}`)},10);return()=>clearTimeout(h)}else a(null)},[o,n]),!t)return r.jsxs("div",{className:"flag-preview flag-preview-empty",children:[r.jsx("div",{className:"icon","aria-hidden":"true",children:r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 2399.5 2304",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsxs("g",{transform:"translate(-.26504)",children:[r.jsx("path",{d:"m336.02 1345.9c-184.43-526.94-335.52-959.07-335.75-960.29-0.3893-2.01 102.58-49.62 107.31-49.61 0.96168 0.001 743.15 1889.5 744.16 1894.5 0.3655 1.8202-174.51 73.476-179.32 73.476-0.59033 0-151.97-431.14-336.4-958.09z",fill:"currentColor"}),r.jsx("path",{d:"m479.51 1092.4c-221.54-563.11-287.62-732.01-286.84-733.27 7.91-12.81 103.37-85.21 156.28-118.55 226.19-142.47 522.48-212.74 817.05-193.76l10.476 0.67518 237.44 534.25c130.59 293.84 237.59 534.1 237.77 533.92 0.1795-0.1795-52.581-196.04-117.25-435.25-64.665-239.21-117.8-436.29-118.09-437.96l-0.516-3.0317 17.345-3.7869c222.72-48.624 369.79-113.98 489.63-217.57 7.5438-6.5212 15.038-13.257 16.653-14.968 1.7-1.7002 3.5-3.1 4.1-3.1 1.0301 0 455.19 1145.4 456.25 1150.7 0.7419 3.6924-13.803 26.955-29.267 46.807-137.48 176.49-482.03 362.83-734.1 397-156.36 21.198-262.46-15.13-311.29-106.58-6.8919-12.907-7.3571-11.514 9.2052-27.574 83.584-81.054 212.39-148.52 266.24-139.44 49.089 8.2692 39.627 66.512-28.664 176.44l-6.9354 11.164 5.7665-6.1213c212.42-225.49 188.76-339.31-50.521-242.99-248.98 100.22-584.66 349.95-741.13 551.36-5.6613 7.2875-10.616 13.25-11.01 13.25-0.39424 0-130.25-329.23-288.57-731.62z",fill:"currentColor",fillOpacity:"0.8"})]})})}),r.jsx("div",{className:"prompt",children:"Choose a flag to see preview"})]});if(!i||!t)return r.jsx("div",{className:"flag-preview",children:r.jsx("div",{className:"flag-preview-placeholder",children:"No preview available"})});const u=t.aspectRatio??2;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flag-preview-wrapper",children:[r.jsx("div",{className:"flag-preview",style:{aspectRatio:`${u} / 1`},children:r.jsx("img",{ref:s,src:i,alt:t.displayName,className:"flag-preview-image",loading:"eager"},`${n}-${i}`)}),r.jsxs("button",{className:"flag-about-link",onClick:()=>d(!0),type:"button",children:[r.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"About this flag"]})]}),r.jsx(Ga,{open:c,onOpenChange:d,flag:t})]})});function Za({position:e,limits:t,onPositionChange:n,enabled:o=!0}){const[s,i]=l.useState(!1),[a,c]=l.useState(!1),d=l.useRef(null),u=l.useRef(null),f=l.useCallback(p=>"touches"in p&&p.touches.length>0?{x:p.touches[0].clientX,y:p.touches[0].clientY}:"clientX"in p?{x:p.clientX,y:p.clientY}:{x:0,y:0},[]),h=l.useCallback(p=>{if(!o||!u.current?.getBoundingClientRect())return;const v=f(p.nativeEvent);d.current={x:v.x,y:v.y,startPosition:{...e}},c(!0)},[o,e,f]),x=l.useCallback(p=>{if(!d.current||!o)return;p.preventDefault(),s||i(!0);const m=u.current?.getBoundingClientRect();if(!m)return;const v=f(p),y=v.x-d.current.x,b=v.y-d.current.y,S=m.width/2,C=y/S*100,R=b/S*100,j=t.minX===0&&t.maxX===0,D=t.minY===0&&t.maxY===0,B=j?d.current.startPosition.x:d.current.startPosition.x-C,A=D?d.current.startPosition.y:d.current.startPosition.y-R,T={x:B,y:A,zoom:d.current.startPosition.zoom},M=Math.max(-50,Math.min(50,T.x)),O=Math.max(-50,Math.min(50,T.y));n({x:M,y:O,zoom:T.zoom})},[s,t,n,o,f]),g=l.useCallback(()=>{i(!1),c(!1),d.current=null},[]);l.useEffect(()=>{if(!a)return;const p=S=>x(S),m=()=>{g()},v=S=>{x(S)},y=()=>{g()},b=S=>{S.preventDefault()};return window.addEventListener("mousemove",p),window.addEventListener("mouseup",m),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("touchend",y),document.addEventListener("selectstart",b),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",y),document.removeEventListener("selectstart",b)}},[a,x,g]);const w=l.useCallback(p=>{u.current=p},[]);return{isDragging:s,dragHandlers:{onMouseDown:h,onTouchStart:h},setElementRef:w}}async function Ja(e){const{flag:t,wrapperSize:n,circleSize:o}=e,s=t.modes?.ring?.colors??[];if(s.length===0)return null;const i=n/2,a=o/2,c=i-a;if(c<=0)return null;const d=new OffscreenCanvas(n,n),u=d.getContext("2d");u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high";const f=n/2,h=a,x=i,g=s.map(v=>({color:v,weight:1})),w=g.length,p=Math.max(.5,c*.02);let m=x;for(let v=0;v<g.length;v++){const y=g[v],b=g[v+1],C=y.weight/w*c,R=Math.max(h,m-C),j=b&&R>h+p?R-p:R;if(u.beginPath(),u.arc(f,f,m,0,Math.PI*2),u.arc(f,f,j,Math.PI*2,0,!0),u.closePath(),u.fillStyle=y.color,u.fill(),b&&R>h+p){const D=j,B=R,A=u.createRadialGradient(f,f,D,f,f,B);A.addColorStop(0,y.color),A.addColorStop(1,b.color),u.beginPath(),u.arc(f,f,B,0,Math.PI*2),u.arc(f,f,D,Math.PI*2,0,!0),u.closePath(),u.fillStyle=A,u.fill()}if(m=b&&R>h+p?R:j,m<=h+.5)break}return m>h+.5&&(u.beginPath(),u.arc(f,f,m,0,Math.PI*2),u.arc(f,f,h,Math.PI*2,0,!0),u.closePath(),u.fillStyle=g[g.length-1]?.color??"#000000",u.fill()),d}function Qa(e){const{flag:t,segmentRotation:n=0}=e,o=t.modes?.ring?.colors??[];if(o.length===0)return"transparent";const s=-90+n,i=360/o.length,a=.4,c=[];for(let d=0;d<o.length;d++){const u=d*i,f=(d+1)*i,h=o[d],x=o[(d+1)%o.length];c.push(`${h} ${u}deg`),c.push(`${h} ${f-a}deg`),c.push(`${x} ${f}deg`)}return`conic-gradient(from ${s}deg at 50%, ${c.join(", ")})`}async function ec(e){switch(e.presentation){case"cutout":{const{flag:t,flagOffsetPct:n=0,wrapperSize:o}=e;if(!t.png_full)return{backgroundImage:"transparent"};const s=Ie(`flags/${t.png_full}`),i=t.aspectRatio??2,a=o,c=a*i,u=`calc(50% + ${-(n/50)*(c-o)/2}px)`;return{backgroundImage:`url(${s})`,backgroundSize:`${c}px ${a}px`,backgroundPosition:`${u} center`,backgroundRepeat:"no-repeat"}}case"ring":{const t=await Ja(e);if(!t)return{backgroundImage:"none"};const n=await t.convertToBlob();return{backgroundImage:`url(${URL.createObjectURL(n)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}case"segment":return{backgroundImage:Qa(e),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};default:return{backgroundImage:"transparent"}}}function Mn({imageUrl:e,onImageUpload:t,onShowPrivacy:n,position:o,limits:s,aspectRatio:i,imageDimensions:a,onPositionChange:c,circleSize:d,baseCircleSize:u,readonly:f=!1,flag:h=null,presentation:x="ring",borderThicknessPct:g=10,flagOffsetPct:w=0,segmentRotation:p=0}){const m=l.useRef(null),v=l.useRef(!1),y=l.useRef(null),{dragHandlers:b,setElementRef:S,isDragging:C}=Za({position:o,limits:s,onPositionChange:c??(()=>{}),enabled:!!e&&!f&&!!c});l.useEffect(()=>{const E=m.current;if(!E||!e||f)return;const _=U=>{if(C)return;U.preventDefault(),U.stopPropagation();const W=-U.deltaY*.1,H=Math.max(0,Math.min(200,o.zoom+W)),q={...o,zoom:H};c&&c(q)};return E.addEventListener("wheel",_,{passive:!1}),()=>{E.removeEventListener("wheel",_)}},[e,C,o,c,f]);const R=l.useCallback(E=>{if(E.length<2)return 0;const _=E[0],U=E[1],W=U.clientX-_.clientX,H=U.clientY-_.clientY;return Math.sqrt(W*W+H*H)},[]);l.useEffect(()=>{const E=m.current;if(!E||!e)return;const _=H=>{if(H.touches.length===2){const q=R(H.touches);y.current={distance:q,zoom:o.zoom},H.preventDefault(),H.stopPropagation()}},U=H=>{if(H.touches.length===2&&y.current){H.preventDefault(),H.stopPropagation();const q=R(H.touches),me=y.current.distance,Q=y.current.zoom,Eo=(q/me-1)*100,No=Math.max(0,Math.min(200,Q+Eo)),Ro={...o,zoom:No};c&&c(Ro)}else H.touches.length===1&&(y.current=null)},W=()=>{y.current=null};return E.addEventListener("touchstart",_,{passive:!1,capture:!0}),E.addEventListener("touchmove",U,{passive:!1,capture:!0}),E.addEventListener("touchend",W,{capture:!0}),E.addEventListener("touchcancel",W,{capture:!0}),()=>{E.removeEventListener("touchstart",_,{capture:!0}),E.removeEventListener("touchmove",U,{capture:!0}),E.removeEventListener("touchend",W,{capture:!0}),E.removeEventListener("touchcancel",W,{capture:!0})}},[e,o,c,R]);const j=l.useCallback(E=>{e&&E.touches.length!==2&&(y.current=null,b.onTouchStart?.(E))},[e,b]),D=l.useCallback(E=>{e&&(E.touches.length===2&&y.current||E.touches.length===1&&(y.current=null))},[e]),B=l.useCallback(()=>{y.current=null},[]);l.useEffect(()=>{if(C)v.current=!0;else if(v.current){const E=setTimeout(()=>{v.current=!1},100);return()=>clearTimeout(E)}},[C]);const A=l.useMemo(()=>a?st(a,d,200):{minX:0,maxX:0,minY:0,maxY:0},[a,d]),T=l.useRef(null),[M,O]=l.useState(null);l.useEffect(()=>{if(!T.current)return;const E=()=>{if(!T.current)return;const U=window.getComputedStyle(T.current),W=parseFloat(U.width);!isNaN(W)&&W>0&&O(W)};requestAnimationFrame(()=>{E(),setTimeout(E,100)});const _=new ResizeObserver(()=>{E()});return _.observe(T.current),window.addEventListener("resize",E),()=>{_.disconnect(),window.removeEventListener("resize",E)}},[]);const F=l.useMemo(()=>{if(f&&u&&M)return`${g/100*M}px`},[f,u,M,g]),[I,k]=l.useState(void 0),[L,N]=l.useState(void 0),[$,J]=l.useState(!1),[se,te]=l.useState(!1),oe=l.useRef(null),z=l.useRef(null),Y=l.useRef(null),G=l.useRef(0);l.useEffect(()=>{if(!f||!h||!M){k(void 0),N(void 0),J(!1),te(!1);return}Y.current!==null&&(clearTimeout(Y.current),Y.current=null);const E=++G.current,_=g/100*M,U=M-2*_;return ec({flag:h,presentation:x,flagOffsetPct:w,segmentRotation:p,wrapperSize:M,circleSize:U}).then(W=>{if(E!==G.current){const Q=W.backgroundImage;if(Q&&Q.startsWith("url(")){const ve=Q.match(/url\(([^)]+)\)/);ve&&ve[1].startsWith("blob:")&&URL.revokeObjectURL(ve[1])}return}const H=W.backgroundImage;let q=null;if(H&&H.startsWith("url(")){const Q=H.match(/url\(([^)]+)\)/);Q&&Q[1].startsWith("blob:")&&(z.current&&URL.revokeObjectURL(z.current),z.current=Q[1],q=Q[1])}const me=()=>{if(E!==G.current){q&&URL.revokeObjectURL(q);return}N(W),te(!1),requestAnimationFrame(()=>{if(E!==G.current){q&&URL.revokeObjectURL(q);return}requestAnimationFrame(()=>{if(E!==G.current){q&&URL.revokeObjectURL(q);return}te(!0),setTimeout(()=>{if(E!==G.current){q&&URL.revokeObjectURL(q);return}J(!0)},80),Y.current=window.setTimeout(()=>{if(E!==G.current){q&&URL.revokeObjectURL(q);return}oe.current&&URL.revokeObjectURL(oe.current),oe.current=z.current,z.current=null,k(W),N(void 0),J(!1),te(!1),Y.current=null},350)})})};if(q){const Q=new Image;Q.onload=()=>{me()},Q.onerror=()=>{me()},Q.src=q}else me()}).catch(()=>{E===G.current&&(N(void 0),J(!1),te(!1))}),()=>{Y.current!==null&&(clearTimeout(Y.current),Y.current=null);const W=E,H=G.current;W===H&&z.current&&(URL.revokeObjectURL(z.current),z.current=null)}},[f,h,M,x,g,w,p]);const P=Bo(a,d,o.zoom),V=l.useMemo(()=>{if(e)return{backgroundImage:`url(${e})`,backgroundSize:P,backgroundPosition:Bn({x:o.x,y:o.y},s,A),backgroundRepeat:"no-repeat"}},[e,P,o.x,o.y,s,A]);return r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"file",id:"step1-file-upload",accept:"image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:t,"aria-label":"Choose image file (JPG or PNG)"}),r.jsxs("div",{ref:T,className:f?"choose-wrapper readonly":"choose-wrapper",children:[f&&I&&r.jsx("div",{className:`choose-wrapper-pattern choose-wrapper-pattern-current ${$?"fading-out":""}`,style:I}),f&&L&&r.jsx("div",{className:`choose-wrapper-pattern choose-wrapper-pattern-next ${se?"fading-in":""}`,style:L}),r.jsx("label",{ref:E=>{E&&(m.current=E),S(E)},htmlFor:f?void 0:"step1-file-upload",className:["choose-circle",e&&"has-image",C&&"is-dragging",f&&"readonly"].filter(Boolean).join(" "),role:f?"img":"button","aria-label":f?"Profile picture preview":"Choose your profile picture",style:{...V,...F?{inset:F}:{}},onMouseDown:f?void 0:b.onMouseDown,onTouchStart:f?void 0:j,onTouchMove:f?void 0:D,onTouchEnd:f?void 0:B,onClick:f?void 0:E=>{v.current&&(E.preventDefault(),E.stopPropagation())},children:!e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"icon","aria-hidden":"true",children:r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"12",cy:"8",r:"4",fill:"currentColor"}),r.jsx("path",{d:"M6 20C6 16 8.5 14 12 14C15.5 14 18 16 18 20",fill:"currentColor"})]})}),r.jsx("div",{className:"prompt",children:"Choose your profile picture"}),r.jsx("div",{className:"formats",children:"JPG or PNG"}),r.jsxs("button",{type:"button",className:"privacy",onClick:E=>{E.preventDefault(),E.stopPropagation(),n&&n()},"aria-label":"Learn about privacy: Stays on your device",children:[r.jsx("span",{className:"info","aria-hidden":"true",children:"i"}),"Stays on your device"]})]})})]})]})}function tc({mode:e,onModeChange:t}){return r.jsx("div",{className:"presentation-controls",children:r.jsxs("div",{className:"presentation-toggle-group",role:"radiogroup","aria-label":"Presentation style",children:[r.jsxs("button",{type:"button",className:`presentation-toggle ${e==="ring"?"selected":""}`,onClick:()=>t("ring"),"aria-pressed":e==="ring","aria-label":"Ring - Full circular border around the entire avatar",children:[r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"16",cy:"16",r:"12",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),r.jsx("circle",{cx:"16",cy:"16",r:"9",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),r.jsx("circle",{cx:"16",cy:"16",r:"6",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})]}),r.jsx("span",{children:"Ring"})]}),r.jsxs("button",{type:"button",className:`presentation-toggle ${e==="segment"?"selected":""}`,onClick:()=>t("segment"),"aria-pressed":e==="segment","aria-label":"Segment - Partial arc border on one side of the avatar",children:[r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"16",cy:"16",r:"12",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),r.jsx("line",{x1:"16",y1:"4",x2:"16",y2:"10",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("line",{x1:"16",y1:"22",x2:"16",y2:"28",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("line",{x1:"4",y1:"16",x2:"10",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("line",{x1:"22",y1:"16",x2:"28",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("circle",{cx:"16",cy:"16",r:"6",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})]}),r.jsx("span",{children:"Segment"})]}),r.jsxs("button",{type:"button",className:`presentation-toggle ${e==="cutout"?"selected":""}`,onClick:()=>t("cutout"),"aria-pressed":e==="cutout","aria-label":"Cutout - Flag pattern fills the border area completely",children:[r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("rect",{x:"1",y:"4",width:"30",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"2 2",fill:"none"}),r.jsx("circle",{cx:"16",cy:"16",r:"12",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),r.jsx("circle",{cx:"16",cy:"16",r:"6",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})]}),r.jsx("span",{children:"Cutout"})]})]})})}var uo=["PageUp","PageDown"],fo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ho={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$e="Slider",[Yt,nc,rc]=Un($e),[po]=Ze($e,[rc]),[oc,Et]=po($e),mo=l.forwardRef((e,t)=>{const{name:n,min:o=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[o],value:f,onValueChange:h=()=>{},onValueCommit:x=()=>{},inverted:g=!1,form:w,...p}=e,m=l.useRef(new Set),v=l.useRef(0),b=a==="horizontal"?sc:ic,[S=[],C]=ut({prop:f,defaultProp:u,onChange:T=>{[...m.current][v.current]?.focus(),h(T)}}),R=l.useRef(S);function j(T){const M=uc(S,T);A(T,M)}function D(T){A(T,v.current)}function B(){const T=R.current[v.current];S[v.current]!==T&&x(S)}function A(T,M,{commit:O}={commit:!1}){const F=mc(i),I=gc(Math.round((T-o)/i)*i+o,F),k=it(I,[o,s]);C((L=[])=>{const N=lc(L,k,M);if(pc(N,d*i)){v.current=N.indexOf(k);const $=String(N)!==String(L);return $&&O&&x(N),$?N:L}else return L})}return r.jsx(oc,{scope:e.__scopeSlider,name:n,disabled:c,min:o,max:s,valueIndexToChangeRef:v,thumbs:m.current,values:S,orientation:a,form:w,children:r.jsx(Yt.Provider,{scope:e.__scopeSlider,children:r.jsx(Yt.Slot,{scope:e.__scopeSlider,children:r.jsx(b,{"aria-disabled":c,"data-disabled":c?"":void 0,...p,ref:t,onPointerDown:K(p.onPointerDown,()=>{c||(R.current=S)}),min:o,max:s,inverted:g,onSlideStart:c?void 0:j,onSlideMove:c?void 0:D,onSlideEnd:c?void 0:B,onHomeKeyDown:()=>!c&&A(o,0,{commit:!0}),onEndKeyDown:()=>!c&&A(s,S.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:M})=>{if(!c){const I=uo.includes(T.key)||T.shiftKey&&fo.includes(T.key)?10:1,k=v.current,L=S[k],N=i*I*M;A(L+N,k,{commit:!0})}}})})})})});mo.displayName=$e;var[go,xo]=po($e,{startEdge:"left",endEdge:"right",size:"width",direction:1}),sc=l.forwardRef((e,t)=>{const{min:n,max:o,dir:s,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:d,onStepKeyDown:u,...f}=e,[h,x]=l.useState(null),g=Z(t,b=>x(b)),w=l.useRef(void 0),p=zn(s),m=p==="ltr",v=m&&!i||!m&&i;function y(b){const S=w.current||h.getBoundingClientRect(),C=[0,S.width],j=fn(C,v?[n,o]:[o,n]);return w.current=S,j(b-S.left)}return r.jsx(go,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:r.jsx(vo,{dir:p,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=y(b.clientX);a?.(S)},onSlideMove:b=>{const S=y(b.clientX);c?.(S)},onSlideEnd:()=>{w.current=void 0,d?.()},onStepKeyDown:b=>{const C=ho[v?"from-left":"from-right"].includes(b.key);u?.({event:b,direction:C?-1:1})}})})}),ic=l.forwardRef((e,t)=>{const{min:n,max:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:d,...u}=e,f=l.useRef(null),h=Z(t,f),x=l.useRef(void 0),g=!s;function w(p){const m=x.current||f.current.getBoundingClientRect(),v=[0,m.height],b=fn(v,g?[o,n]:[n,o]);return x.current=m,b(p-m.top)}return r.jsx(go,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:r.jsx(vo,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const m=w(p.clientY);i?.(m)},onSlideMove:p=>{const m=w(p.clientY);a?.(m)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:p=>{const v=ho[g?"from-bottom":"from-top"].includes(p.key);d?.({event:p,direction:v?-1:1})}})})}),vo=l.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:d,...u}=e,f=Et($e,n);return r.jsx(X.span,{...u,ref:t,onKeyDown:K(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):uo.concat(fo).includes(h.key)&&(d(h),h.preventDefault())}),onPointerDown:K(e.onPointerDown,h=>{const x=h.target;x.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(x)?x.focus():o(h)}),onPointerMove:K(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:K(e.onPointerUp,h=>{const x=h.target;x.hasPointerCapture(h.pointerId)&&(x.releasePointerCapture(h.pointerId),i(h))})})}),wo="SliderTrack",yo=l.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,s=Et(wo,n);return r.jsx(X.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...o,ref:t})});yo.displayName=wo;var Kt="SliderRange",bo=l.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,s=Et(Kt,n),i=xo(Kt,n),a=l.useRef(null),c=Z(t,a),d=s.values.length,u=s.values.map(x=>jo(x,s.min,s.max)),f=d>1?Math.min(...u):0,h=100-Math.max(...u);return r.jsx(X.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:c,style:{...e.style,[i.startEdge]:f+"%",[i.endEdge]:h+"%"}})});bo.displayName=Kt;var Xt="SliderThumb",So=l.forwardRef((e,t)=>{const n=nc(e.__scopeSlider),[o,s]=l.useState(null),i=Z(t,c=>s(c)),a=l.useMemo(()=>o?n().findIndex(c=>c.ref.current===o):-1,[n,o]);return r.jsx(ac,{...e,ref:i,index:a})}),ac=l.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:s,...i}=e,a=Et(Xt,n),c=xo(Xt,n),[d,u]=l.useState(null),f=Z(t,y=>u(y)),h=d?a.form||!!d.closest("form"):!0,x=sr(d),g=a.values[o],w=g===void 0?0:jo(g,a.min,a.max),p=dc(o,a.values.length),m=x?.[c.size],v=m?fc(m,w,c.direction):0;return l.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${w}% + ${v}px)`},children:[r.jsx(Yt.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(X.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:f,style:g===void 0?{display:"none"}:e.style,onFocus:K(e.onFocus,()=>{a.valueIndexToChangeRef.current=o})})}),h&&r.jsx(Co,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},o)]})});So.displayName=Xt;var cc="RadioBubbleInput",Co=l.forwardRef(({__scopeSlider:e,value:t,...n},o)=>{const s=l.useRef(null),i=Z(s,o),a=gr(t);return l.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&f){const h=new Event("input",{bubbles:!0});f.call(c,t),c.dispatchEvent(h)}},[a,t]),r.jsx(X.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});Co.displayName=cc;function lc(e=[],t,n){const o=[...e];return o[n]=t,o.sort((s,i)=>s-i)}function jo(e,t,n){const i=100/(n-t)*(e-t);return it(i,[0,100])}function dc(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function uc(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),o=Math.min(...n);return n.indexOf(o)}function fc(e,t,n){const o=e/2,i=fn([0,50],[0,o]);return(o-i(t)*n)*n}function hc(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function pc(e,t){if(t>0){const n=hc(e);return Math.min(...n)>=t}return!0}function fn(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function mc(e){return(String(e).split(".")[1]||"").length}function gc(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var De=mo,Le=yo,_e=bo,Fe=So;function xc({thickness:e,onThicknessChange:t,flagOffsetPct:n,onFlagOffsetChange:o,presentation:s,segmentRotation:i,onSegmentRotationChange:a,selectedFlag:c}){return r.jsxs("div",{className:"adjust-controls",children:[r.jsx("div",{className:"control-group",children:r.jsxs("div",{className:"slider-container",children:[r.jsxs("div",{className:"slider-labels-row",children:[r.jsx("span",{className:"slider-end-label",children:"Thinner"}),r.jsxs("span",{className:"slider-value",children:[e,"%"]}),r.jsx("span",{className:"slider-end-label",children:"Thicker"})]}),r.jsxs("div",{className:"slider-with-icons",children:[r.jsx("span",{className:"slider-icon","aria-label":"Thinner border",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1",fill:"none"})})}),r.jsxs(De,{className:"slider-root",value:[e],onValueChange:([d])=>t(d),min:5,max:15,step:1,"aria-label":"Border thickness",children:[r.jsx(Le,{className:"slider-track",children:r.jsx(_e,{className:"slider-range"})}),r.jsx(Fe,{className:"slider-thumb"})]}),r.jsx("span",{className:"slider-icon","aria-label":"Thicker border",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",fill:"none"})})})]})]})}),s==="segment"&&r.jsx("div",{className:"control-group",children:r.jsxs("div",{className:"slider-container",children:[r.jsxs("div",{className:"slider-labels-row",children:[r.jsx("span",{className:"slider-end-label",children:"Rotate R"}),r.jsxs("span",{className:"slider-value",children:[Math.round(i),""]}),r.jsx("span",{className:"slider-end-label",children:"Rotate L"})]}),r.jsxs("div",{className:"slider-with-icons",children:[r.jsx("span",{className:"slider-icon","aria-label":"Rotate counter-clockwise",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M19 7 A8 8 0 1 0 7 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),r.jsx("path",{d:"M22.5 7 L17.5 10 L21.5 12.5 Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round"})]})}),r.jsxs(De,{className:"slider-root",value:[i],onValueChange:([d])=>a(d),min:-180,max:180,step:5,"aria-label":"Segment rotation",children:[r.jsx(Le,{className:"slider-track",children:r.jsx(_e,{className:"slider-range"})}),r.jsx(Fe,{className:"slider-thumb"})]}),r.jsx("span",{className:"slider-icon","aria-label":"Rotate clockwise",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M5 7 A8 8 0 1 1 17 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),r.jsx("path",{d:"M1.5 7 L6.5 10 L2.5 12.5 Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round"})]})})]})]})}),s==="cutout"&&c?.modes?.cutout?.offsetEnabled&&r.jsx("div",{className:"control-group",children:r.jsxs("div",{className:"slider-container",children:[r.jsxs("div",{className:"slider-labels-row",children:[r.jsx("span",{className:"slider-end-label",children:"Flag L"}),r.jsxs("span",{className:"slider-value",children:[Math.round(n),"%"]}),r.jsx("span",{className:"slider-end-label",children:"Flag R"})]}),r.jsxs("div",{className:"slider-with-icons",children:[r.jsx("span",{className:"slider-icon","aria-label":"Left offset",children:r.jsxs("svg",{width:"26",height:"20",viewBox:"0 0 26 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("rect",{x:"1",y:"2",width:"24",height:"16",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"2 2",fill:"none"}),r.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"3",fill:"none"})]})}),r.jsxs(De,{className:"slider-root",value:[n],onValueChange:([d])=>o(d),min:-50,max:50,step:1,"aria-label":"Flag horizontal offset",children:[r.jsx(Le,{className:"slider-track",children:r.jsx(_e,{className:"slider-range"})}),r.jsx(Fe,{className:"slider-thumb"})]}),r.jsx("span",{className:"slider-icon","aria-label":"Right offset",children:r.jsxs("svg",{width:"26",height:"20",viewBox:"0 0 26 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("rect",{x:"1",y:"2",width:"24",height:"16",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"2 2",fill:"none"}),r.jsx("circle",{cx:"16",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"3",fill:"none"})]})})]})]})})]})}function Dt({mainContent:e,controls:t}){return r.jsxs("div",{className:"step-layout",children:[r.jsx("div",{className:"step-layout__main",children:e}),t!=null&&r.jsx("div",{className:"step-layout__controls",children:t})]})}const On=.001;function vc({position:e,limits:t,onPositionChange:n}){const o=e.zoom>0||Math.abs(t.maxX-t.minX)>On,s=e.zoom>0||Math.abs(t.maxY-t.minY)>On;return r.jsxs("div",{className:"adjust-controls step1-controls",children:[r.jsx("div",{className:"control-group",children:r.jsxs("div",{className:"slider-container",children:[r.jsxs("div",{className:"slider-labels-row",children:[r.jsx("span",{className:"slider-end-label",children:"Move left"}),r.jsxs("span",{className:"slider-value",children:[Math.round(e.x),"%"]}),r.jsx("span",{className:"slider-end-label",children:"Move right"})]}),r.jsxs("div",{className:"slider-with-icons",children:[r.jsx("span",{className:"slider-icon","aria-label":"Move left",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),r.jsxs(De,{className:"slider-root",value:[-e.x],onValueChange:([i])=>{const a=-i,c=Math.max(-50,Math.min(50,a));n({...e,x:c})},min:-50,max:50,step:1,disabled:!o,"aria-label":"Horizontal position",children:[r.jsx(Le,{className:"slider-track",children:r.jsx(_e,{className:"slider-range"})}),r.jsx(Fe,{className:"slider-thumb"})]}),r.jsx("span",{className:"slider-icon","aria-label":"Move right",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})}),r.jsx("div",{className:"control-group",children:r.jsxs("div",{className:"slider-container",children:[r.jsxs("div",{className:"slider-labels-row",children:[r.jsx("span",{className:"slider-end-label",children:"Move up"}),r.jsxs("span",{className:"slider-value",children:[Math.round(e.y),"%"]}),r.jsx("span",{className:"slider-end-label",children:"Move down"})]}),r.jsxs("div",{className:"slider-with-icons",children:[r.jsx("span",{className:"slider-icon","aria-label":"Move up",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M18 15L12 9L6 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),r.jsxs(De,{className:"slider-root",value:[-e.y],onValueChange:([i])=>{const a=-i,c=Math.max(-50,Math.min(50,a));n({...e,y:c})},min:-50,max:50,step:1,disabled:!s,"aria-label":"Vertical position",children:[r.jsx(Le,{className:"slider-track",children:r.jsx(_e,{className:"slider-range"})}),r.jsx(Fe,{className:"slider-thumb"})]}),r.jsx("span",{className:"slider-icon","aria-label":"Move down",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})}),r.jsx("div",{className:"control-group",children:r.jsxs("div",{className:"slider-container",children:[r.jsxs("div",{className:"slider-labels-row",children:[r.jsx("span",{className:"slider-end-label",children:"Zoom Out"}),r.jsxs("span",{className:"slider-value",children:[Math.round(e.zoom),"%"]}),r.jsx("span",{className:"slider-end-label",children:"Zoom In"})]}),r.jsxs("div",{className:"slider-with-icons",children:[r.jsx("span",{className:"slider-icon","aria-label":"Zoom out",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M8 12H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),r.jsxs(De,{className:"slider-root",value:[e.zoom],onValueChange:([i])=>{const a=Math.max(0,Math.min(200,i));n({...e,zoom:a})},min:0,max:200,step:1,"aria-label":"Zoom level",children:[r.jsx(Le,{className:"slider-track",children:r.jsx(_e,{className:"slider-range"})}),r.jsx(Fe,{className:"slider-thumb"})]}),r.jsx("span",{className:"slider-icon","aria-label":"Zoom in",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M12 8V16M8 12H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]})]})})]})}function wc({open:e,onOpenChange:t}){return r.jsx(so,{open:e,onOpenChange:t,children:r.jsxs(io,{children:[r.jsx(ao,{className:"dialog-overlay"}),r.jsxs(co,{className:"dialog-content","aria-describedby":"privacy-dialog-description",onOpenAutoFocus:n=>{n.preventDefault();const o=n.currentTarget;o&&(o.scrollTop=0)},children:[r.jsx(pt,{asChild:!0,children:r.jsx("button",{className:"dialog-close-button","aria-label":"Close dialog",children:""})}),r.jsx(lo,{className:"dialog-title",children:"Your Privacy is Protected"}),r.jsxs("div",{className:"dialog-body",children:[r.jsxs("p",{id:"privacy-dialog-description",children:["Beyond Borders processes everything ",r.jsx("strong",{children:"directly in your browser"}),". Your images never leave your device."]}),r.jsx("p",{children:r.jsx("strong",{children:"What this means:"})}),r.jsxs("ul",{children:[r.jsx("li",{children:" No uploads to servers"}),r.jsx("li",{children:" No cloud storage"}),r.jsx("li",{children:" No tracking or analytics"}),r.jsx("li",{children:" Complete privacy and control"})]}),r.jsx("p",{children:"All image processing happens using HTML5 Canvas technology in your browser. When you download your avatar, it's created and saved directly on your device. We never see, store, or have access to your images."}),r.jsxs("p",{children:["This is an open source project so if you want to look through the code, it's"," ",r.jsx("a",{href:"https://github.com/ravendarque/ravendarque-beyond-borders",target:"_blank",rel:"noopener noreferrer",className:"dialog-link",children:"here on GitHub"}),"."]}),r.jsxs("p",{children:["For more detailed information please read the"," ",r.jsx(Ee,{to:"/ethics",className:"dialog-link",onClick:()=>t(!1),children:"Ethics, Sustainability, and Privacy Statement."})]})]}),r.jsx("div",{className:"dialog-actions",children:r.jsx(pt,{asChild:!0,children:r.jsx("button",{className:"dialog-button",children:"Got it"})})})]})]})})}class ot extends l.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.props.onError&&this.props.onError(t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsxs("div",{className:"error-boundary-fallback",style:{padding:"20px",textAlign:"center",color:"var(--color-dark-gray)",fontFamily:"'Segoe UI', sans-serif"},children:[r.jsx("h2",{style:{margin:"0 0 10px 0",color:"var(--color-red-accent)"},children:"Something went wrong"}),r.jsx("p",{style:{margin:"0",fontSize:"14px"},children:"Please refresh the page to try again."})]}):this.props.children}}function yc(){const e=Yo(),{step1:t,step2:n,step3:o,currentStep:s,setStep:i,setImageUrl:a,setImagePosition:c,setImageDimensions:d,setCircleSize:u,setFlagId:f,setThickness:h,setFlagOffsetPct:x,setPresentation:g,setSegmentRotation:w,resetAll:p,updateStep3ForFlag:m}=e,[v,y]=l.useState(!1),{currentStep:b,setCurrentStep:S,goToNext:C,goToPrevious:R,canGoToStep2:j,canGoToStep3:D}=zo({imageUrl:t.imageUrl,flagId:n.flagId});l.useEffect(()=>{s!==b&&i(b)},[b,s,i]);const B=Uo(),{overlayUrl:A,isRendering:T,render:M}=Wo(Rt,B),O=l.useMemo(()=>n.flagId?Rt.find(z=>z.id===n.flagId)??null:null,[n.flagId]);Xo({state:e.state,selectedFlag:O,onImageDimensionsChange:d,onCircleSizeChange:u,onFlagOffsetChange:x,onUpdateStep3ForFlag:m});const F=l.useMemo(()=>{if(b===3&&t.circleSize){const z=t.circleSize/.8,Y=o.thickness/100*z;return Math.max(0,z-2*Y)}return t.circleSize},[b,t.circleSize,o.thickness]),I=l.useMemo(()=>{if(!t.imageDimensions)return{minX:0,maxX:0,minY:0,maxY:0};const z=b===3?F:t.circleSize;return st(t.imageDimensions,z,t.imagePosition.zoom)},[t.imageDimensions,t.circleSize,F,t.imagePosition.zoom,b]),k=l.useRef(null);l.useEffect(()=>{if(!t.imageDimensions||b!==1){k.current=null;return}if(!(k.current===null||k.current.minX!==I.minX||k.current.maxX!==I.maxX||k.current.minY!==I.minY||k.current.maxY!==I.maxY))return;k.current=I;const Y=.001,G=Math.abs(I.maxX-I.minX)<Y,P=Math.abs(I.maxY-I.minY)<Y;let V=!1;const E={...t.imagePosition};if(G&&Math.abs(E.x)>Y)E.x=0,V=!0;else if(!G){const _=Math.max(I.minX,Math.min(I.maxX,E.x));Math.abs(_-E.x)>Y&&(E.x=_,V=!0)}if(P&&Math.abs(E.y)>Y)E.y=0,V=!0;else if(!P){const _=Math.max(I.minY,Math.min(I.maxY,E.y));Math.abs(_-E.y)>Y&&(E.y=_,V=!0)}V&&c(E)},[t.imageDimensions,I,b,c,t.imagePosition]);const L=l.useMemo(()=>t.imageDimensions?Fn(t.imageDimensions):null,[t.imageDimensions]);l.useEffect(()=>{if(!O?.png_full)return;const z=O.png_full;if(B.has(z))return;(async()=>{try{const G=await fetch(Ie(`flags/${O.png_full}`));if(!G.ok)return;const P=await G.blob(),V=await createImageBitmap(P);B.set(z,V)}catch{}})()},[O?.png_full,B]);const N=Pt(o.thickness,50),$=Pt(o.flagOffsetPct,50),J=Pt(o.segmentRotation,50);l.useEffect(()=>{b===3&&t.imageUrl&&t.imageDimensions&&n.flagId&&M(t.imageUrl,n.flagId,{size:Oo.HIGH_RES,thickness:N,flagOffsetPct:$,presentation:o.presentation,segmentRotation:J,bg:"transparent",imagePosition:t.imagePosition,imageDimensions:t.imageDimensions,circleSize:t.circleSize})},[b,t.imageUrl,t.imageDimensions,t.imagePosition,t.circleSize,n.flagId,N,$,o.presentation,J,M]);const se=z=>{const Y=z.target.files?.[0];if(!Y)return;const G=new FileReader;G.onloadend=()=>{const P=G.result;a(P)},G.onerror=()=>{const P=URL.createObjectURL(Y);a(P)},G.readAsDataURL(Y)},te=()=>{if(!A)return;const z=document.createElement("a");z.href=A;const Y=Date.now();z.download=`wearebeyondborders-dot-com-${Y}.png`,document.body.appendChild(z),z.click(),document.body.removeChild(z)},oe=()=>{p(),S(1)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"visually-hidden",children:["Step ",b," of 3"]}),r.jsxs("main",{className:"canvas",role:"presentation","aria-label":"Beyond Borders Application",children:[r.jsxs("header",{className:"app-header",children:[r.jsx("h1",{className:"app-title",children:"Beyond Borders"}),r.jsx("p",{className:"app-subtitle",children:"Add a flag border to your profile picture"})]}),r.jsxs("div",{className:"content-wrapper",children:[r.jsx("div",{className:"content-bg","aria-hidden":"true"}),r.jsxs("div",{className:"progress-row",children:[r.jsx("div",{className:`progress ${b>1?"completed":b===1?"active":"upcoming"}`,children:r.jsxs("span",{children:[r.jsx("span",{className:"progress-number",children:"1/"}),"IMAGE"]})}),r.jsx("div",{className:`progress ${b>2?"completed":b===2?"active":"upcoming"}`,children:r.jsxs("span",{children:[r.jsx("span",{className:"progress-number",children:"2/"}),"FLAG"]})}),r.jsx("div",{className:`progress ${b>3?"completed":b===3?"active":"upcoming"}`,children:r.jsxs("span",{children:[r.jsx("span",{className:"progress-number",children:"3/"}),"ADJUST"]})})]}),r.jsxs("div",{className:"content-area",children:[b===1&&r.jsx(ot,{fallback:r.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[r.jsx("h3",{children:"Error loading image upload"}),r.jsx("p",{children:"Please refresh the page and try again."})]}),children:r.jsx(Dt,{mainContent:r.jsx(Mn,{imageUrl:t.imageUrl,onImageUpload:se,onShowPrivacy:()=>y(!0),position:t.imagePosition,limits:I,aspectRatio:L,imageDimensions:t.imageDimensions,onPositionChange:c,circleSize:t.circleSize}),controls:t.imageUrl?r.jsx(vc,{position:t.imagePosition,limits:I,onPositionChange:c}):void 0})}),b===2&&r.jsx(ot,{fallback:r.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[r.jsx("h3",{children:"Error loading flag selector"}),r.jsx("p",{children:"Please refresh the page and try again."})]}),children:r.jsx(Dt,{mainContent:r.jsxs("div",{className:"flag-selector-wrapper",children:[r.jsx(Oa,{flags:Rt,selectedFlagId:n.flagId,onFlagChange:f}),r.jsx(qa,{flag:O})]})})}),b===3&&r.jsx(ot,{fallback:r.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[r.jsx("h3",{children:"Error loading adjustment controls"}),r.jsx("p",{children:"Please go back and try again, or refresh the page."})]}),children:r.jsx(Dt,{mainContent:r.jsx(Mn,{imageUrl:t.imageUrl,position:t.imagePosition,limits:I,aspectRatio:L,imageDimensions:t.imageDimensions,circleSize:F,baseCircleSize:t.circleSize,readonly:!0,flag:O,presentation:o.presentation,borderThicknessPct:o.thickness,flagOffsetPct:o.flagOffsetPct,segmentRotation:o.segmentRotation}),controls:r.jsxs(r.Fragment,{children:[r.jsx(tc,{mode:o.presentation,onModeChange:g}),r.jsx(xc,{thickness:o.thickness,onThicknessChange:h,flagOffsetPct:o.flagOffsetPct,onFlagOffsetChange:x,presentation:o.presentation,segmentRotation:o.segmentRotation,onSegmentRotationChange:w,selectedFlag:O})]})})})]}),r.jsxs("div",{className:"nav-section",children:[b===1&&r.jsx("button",{type:"button",className:"nav-btn",onClick:C,disabled:!j,"aria-label":"Go to next step",children:r.jsx("span",{children:"NEXT "})}),b===2&&r.jsxs("div",{className:"step-3-nav",children:[r.jsxs("div",{className:"nav-buttons-row",children:[r.jsx("button",{type:"button",className:"nav-btn",onClick:R,"aria-label":"Go to previous step",children:r.jsx("span",{children:" BACK"})}),r.jsx("button",{type:"button",className:"nav-btn",onClick:C,disabled:!D,"aria-label":"Go to next step",children:r.jsx("span",{children:"NEXT "})})]}),r.jsxs("button",{type:"button",className:"start-over-btn",onClick:oe,"aria-label":"Start over with a new image",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[r.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M21 3v5h-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Start Over"]})]}),b===3&&r.jsxs("div",{className:"step-3-nav",children:[r.jsxs("div",{className:"nav-buttons-row",children:[r.jsx("button",{type:"button",className:"nav-btn",onClick:R,"aria-label":"Go to previous step",children:r.jsx("span",{children:" BACK"})}),r.jsxs("button",{type:"button",className:"nav-btn",onClick:te,disabled:!A||T,"aria-label":"Save avatar",children:[r.jsx("span",{children:"SAVE"}),r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",style:{marginLeft:"6px",position:"relative",zIndex:1},children:[r.jsx("path",{d:"M8 2L8 10M8 10L5 7M8 10L11 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M2 12L2 13C2 13.5523 2.44772 14 3 14L13 14C13.5523 14 14 13.5523 14 13L14 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r.jsx("path",{d:"M3 10L3 12L13 12L13 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})]})]}),r.jsxs("button",{type:"button",className:"start-over-btn",onClick:oe,"aria-label":"Start over with a new image",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[r.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M21 3v5h-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Start Over"]})]})]})]}),r.jsxs("footer",{className:"footer",children:[r.jsxs("div",{className:"footer-line1 footer-social",children:[r.jsx("a",{href:"https://share.upscrolled.com/en/user/845379f2-90be-4e4f-85db-35a62d99ef7e",target:"_blank",rel:"noopener noreferrer",className:"footer-link footer-social-link","aria-label":"Find us on UpScrolled",children:r.jsx("img",{src:Ie("upscrolled-icon.png"),alt:"",width:28,height:28,className:"footer-social-icon"})}),r.jsx("a",{href:"https://www.instagram.com/wearebeyondbordersapp",target:"_blank",rel:"noopener noreferrer",className:"footer-link footer-social-link","aria-label":"Follow us on Instagram",children:r.jsx("img",{src:Ie("instagram-icon.svg"),alt:"",width:28,height:28,className:"footer-social-icon"})})]}),r.jsxs("div",{className:"footer-line1",children:[r.jsx(Ee,{to:"/ethics",className:"footer-link","aria-label":"Learn about ethics and sustainability",children:"Ethics and Sustainability"})," | ",r.jsx("a",{href:"https://github.com/ravendarque/ravendarque-beyond-borders",target:"_blank",rel:"noopener noreferrer",className:"footer-link","aria-label":"View source code on GitHub",children:"GitHub Open Source"})]}),r.jsx("div",{className:"footer-line2",children:r.jsx(Ee,{to:"/copyright",className:"footer-link","aria-label":"View copyright information",children:" Nix Crabtree, 2025"})}),r.jsx("div",{className:"footer-line3",children:r.jsxs("a",{href:`https://github.com/ravendarque/ravendarque-beyond-borders/releases/tag/v${Ke.getVersion()}`,target:"_blank",rel:"noopener noreferrer",className:"footer-version","aria-label":`Version ${Ke.getVersion()} - View release on GitHub`,children:["v",Ke.getVersion()]})})]})]}),r.jsx(wc,{open:v,onOpenChange:y})]})}function bc(){return r.jsx("main",{className:"ethics-page",children:r.jsxs("div",{className:"ethics-page-container",children:[r.jsxs("header",{className:"ethics-page-header",children:[r.jsx(Ee,{to:"/",className:"ethics-page-back-link","aria-label":"Back to home",children:" Back to Beyond Borders"}),r.jsx("h1",{className:"ethics-page-title",children:"Ethics, Sustainability, and Privacy Statement"}),r.jsxs("p",{className:"ethics-page-intro",children:["Beyond Borders is built on a foundation of ",r.jsx("strong",{children:"ethical principles"}),","," ",r.jsx("strong",{children:"sustainability"}),", and ",r.jsx("strong",{children:"privacy"}),"."]}),r.jsx("p",{className:"ethics-page-intro",children:"It is, however, hard to do this completely in the tech world. This page aims to provide transparency about the tech used to build this app, and the impact of it, so that you can make a conscious choice about using it. Many of the big tech companies' tools and services are ubiquitous, so even if using them directly can be avoided, they will be used in secondary or tertiary systems. It's also difficult to claim true sustainability in tech, given the demand on power and cooling. There is even a significant social impact of major tech hubs where the cost of buying or renting property soars as tech talent moves to where the jobs are, pricing locals out of the market and directly increasing homelessness and rough sleeping."})]}),r.jsxs("div",{className:"ethics-page-content",children:[r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Privacy First"}),r.jsxs("ul",{children:[r.jsx("li",{children:"All processing happens in your browser - no server uploads"}),r.jsx("li",{children:"No tracking, analytics, or data collection"}),r.jsx("li",{children:"Your images never leave your device"}),r.jsx("li",{children:"Open source code for transparency"}),r.jsx("li",{children:"No cookies are used. The app uses browser sessionStorage to temporarily store your uploaded image and flag selection so your progress is preserved if you navigate away and return. This data is automatically cleared when you close your browser tab."})]})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Sustainability"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Client-side processing reduces energy consumption and network infrastructure utilisation. Nothing is processed on remote servers"}),r.jsx("li",{children:"No cloud infrastructure required for the backend, only for hosting the static files via GitHub"}),r.jsx("li",{children:"The app is developed using AI tools, which will have some environmental impact through power usage and water cooling (see subsection below)"})]}),r.jsx("h3",{className:"ethics-subsection-title",children:"AI-Assisted Development"}),r.jsx("p",{children:"This application was developed with the assistance of AI tools (including Cursor, GitHub Copilot, and Claude) for code generation, debugging, documentation, and architectural design. It wouldn't exist otherwise. Ultimately I had to make a compromise: increase my environmental impact so that I could put something into the world which would increase awareness and visibility of socio-political injustice. Realistically, the environmental impact is very small - I'm one person developing a small application - and I hope that the social justice impact will far outweigh it."}),r.jsx("p",{children:"Here is a generalised view of the environmental impact:"}),r.jsx("p",{children:"Training and operating large language models requires substantial computational resources. A single large AI model training run can emit carbon equivalent to 5-10 cars over their lifetimes (approximately 300-500 metric tons of CO). However, using AI as a development tool (rather than training models from scratch) has a significantly lower impactestimated at roughly 50-100 kg CO for the development of this application, equivalent to a few hundred miles of car travel."})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"BDS Movement Compliance"}),r.jsxs("p",{children:["I support the"," ",r.jsx("a",{href:"https://bdsmovement.net",target:"_blank",rel:"noopener noreferrer",className:"ethics-link",children:"Boycott, Divestment, and Sanctions (BDS) Movement"})," ","and I have made efforts to avoid companies on their boycott list. However, some of the tools used in developing this application do fall under the boycott list, but I have not contributed financially to those organisations."]}),r.jsx("p",{children:r.jsx("strong",{children:"Development Tools Used:"})}),r.jsxs("ul",{children:[r.jsx("li",{children:"Microsoft Visual Studio Code (code editor)"}),r.jsx("li",{children:"Microsoft GitHub (version control and hosting)"}),r.jsx("li",{children:"Microsoft Windows (operating system)"}),r.jsx("li",{children:"Microsoft TypeScript (programming language - open source, but Microsoft-maintained)"}),r.jsx("li",{children:"Meta React (JavaScript library - open source, but Meta-maintained)"}),r.jsx("li",{children:"Google Fonts (Tilt Warp, Anton, Azeret Mono - fonts used in the application but self-hosted so not served by Google)"})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Hardware:"})," This application was developed on a Dell laptop (3 years old at time of development) and an Intel PC (2 years old at time of development)."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Application Dependencies:"})," I have verified to the best of my knowledge that none of the runtime dependencies or libraries used in this application are from companies on the BDS Movement boycott list. All dependencies are either open-source projects, neutral companies, or companies not listed by BDS."]})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Ethical Development"}),r.jsxs("ul",{children:[r.jsx("li",{children:"It's just me, so there is no direct supply chain"}),r.jsx("li",{children:"Built with open source tools and libraries"}),r.jsx("li",{children:"No proprietary runtime dependencies or vendor lock-in"}),r.jsx("li",{children:"Accessible design following WCAG guidelines"}),r.jsx("li",{children:"Free and open source"}),r.jsx("li",{children:"Complete transparency about development process and tools"}),r.jsx("li",{children:"No tracking data is taken, stored, used, or shared by this application"})]})]}),r.jsx("p",{children:"Thanks for reading. Thanks for supporting."}),r.jsx("p",{children:"Nix (they/them)"})]}),r.jsx("footer",{className:"ethics-page-footer",children:r.jsx(Ee,{to:"/",className:"ethics-page-back-link",children:" Back to Beyond Borders"})})]})})}function Sc(){return r.jsx("main",{className:"ethics-page",children:r.jsxs("div",{className:"ethics-page-container",children:[r.jsxs("header",{className:"ethics-page-header",children:[r.jsx(Ee,{to:"/",className:"ethics-page-back-link","aria-label":"Back to home",children:" Back to Beyond Borders"}),r.jsx("h1",{className:"ethics-page-title",children:"Copyright and Licensing"}),r.jsx("p",{className:"ethics-page-intro",children:"This page provides information about copyright, licensing, and how you can use Beyond Borders."})]}),r.jsxs("div",{className:"ethics-page-content",children:[r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Copyright"}),r.jsx("p",{children:" Nix Crabtree, 2025. All rights reserved."}),r.jsx("p",{children:"Beyond Borders is protected by copyright law in the United Kingdom and internationally. Copyright protection is automatic and does not require registration. As the creator of this work, I hold the exclusive rights to reproduce, distribute, and adapt the application."})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Open Source License"}),r.jsxs("p",{children:["Despite being protected by copyright, Beyond Borders is made available as open source software. The source code is"," ",r.jsx("a",{href:"https://github.com/ravendarque/ravendarque-beyond-borders",target:"_blank",rel:"noopener noreferrer",className:"ethics-link",children:"available on GitHub"}),"."]}),r.jsxs("p",{children:["This software is distributed under the"," ",r.jsx("a",{href:"https://polyformproject.org/licenses/noncommercial/1.0.0",target:"_blank",rel:"noopener noreferrer",className:"ethics-link",children:"Polyform Noncommercial License 1.0.0"})," ","with additional ethical use restrictions. This license:"]}),r.jsxs("ul",{style:{marginLeft:"20px",marginTop:"10px",marginBottom:"10px"},children:[r.jsxs("li",{children:["Allows use, modification, and distribution for"," ",r.jsx("strong",{children:"non-commercial purposes only"})]}),r.jsx("li",{children:r.jsx("strong",{children:"Prohibits commercial use and profiteering"})}),r.jsx("li",{children:r.jsx("strong",{children:"Prohibits use against oppressed groups, marginalized peoples, or stateless nations"})}),r.jsx("li",{children:r.jsx("strong",{children:"Prohibits creating nationalist/racist flags or symbols of oppression"})})]}),r.jsxs("p",{children:["These restrictions apply to all users, including those who fork this repository. Please refer to the"," ",r.jsx("a",{href:"https://github.com/ravendarque/ravendarque-beyond-borders/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",className:"ethics-link",children:"LICENSE file"})," ","for the complete terms and conditions."]})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Usage Rights"}),r.jsx("p",{children:"You are free to use Beyond Borders to create profile pictures with flag borders for personal or commercial purposes. The application processes images entirely in your browser, and you retain full ownership and rights to any images you create using this tool."}),r.jsx("p",{children:"However, the application itself (including its code, design, and functionality) remains protected by copyright. Any use of the source code must comply with the terms of the open source license specified in the repository."})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Flag Images"}),r.jsx("p",{children:"The flag images used in this application are representations of flags and are used for educational and awareness purposes. The copyright status of individual flag designs varies, but many national flags are in the public domain or are considered symbols that can be freely used. However, this application does not claim any copyright over the flag designs themselves."})]}),r.jsxs("section",{className:"ethics-section",children:[r.jsx("h2",{className:"ethics-section-title",children:"Contact"}),r.jsxs("p",{children:["If you have questions about copyright, licensing, or usage rights, please open an issue on the"," ",r.jsx("a",{href:"https://github.com/ravendarque/ravendarque-beyond-borders",target:"_blank",rel:"noopener noreferrer",className:"ethics-link",children:"GitHub repository"}),"."]})]})]}),r.jsx("footer",{className:"ethics-page-footer",children:r.jsx(Ee,{to:"/",className:"ethics-page-back-link",children:" Back to Beyond Borders"})})]})})}function Cc(){const{pathname:e}=To();return l.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const jc=document.getElementById("root");ko.createRoot(jc).render(r.jsx(de.StrictMode,{children:r.jsx(ot,{children:r.jsxs(Ao,{basename:Ke.getBaseUrl(),children:[r.jsx(Cc,{}),r.jsxs(Io,{children:[r.jsx(Nt,{path:"/",element:r.jsx(yc,{})}),r.jsx(Nt,{path:"/ethics",element:r.jsx(bc,{})}),r.jsx(Nt,{path:"/copyright",element:r.jsx(Sc,{})})]})]})})}));
