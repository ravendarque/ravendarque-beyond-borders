#!/usr/bin/env pwsh
# Git pre-push hook
# Runs validation checks before allowing push
# Uses PowerShell Core (pwsh) which works on all platforms

if (Get-Command pwsh -ErrorAction SilentlyContinue) {
    pwsh -File .github/scripts/validate-local.ps1
    exit $LASTEXITCODE
}

Write-Host "‚ùå Error: pwsh (PowerShell Core) not found" -ForegroundColor Red
Write-Host "  Install from: https://github.com/PowerShell/PowerShell" -ForegroundColor Yellow
Write-Host "  Or bypass hook: git push --no-verify" -ForegroundColor Yellow
exit 1
