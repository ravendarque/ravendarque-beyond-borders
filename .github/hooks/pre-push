#!/bin/sh
# Git pre-push hook
# Runs validation checks before allowing push
# Uses PowerShell Core (pwsh) which works on all platforms

if command -v pwsh >/dev/null 2>&1; then
    pwsh -NoProfile -File .github/scripts/local-ci.ps1
    exit $?
fi

echo "‚ùå Error: pwsh (PowerShell Core) not found"
echo "  Install from: https://github.com/PowerShell/PowerShell"
echo "  Or bypass hook: git push --no-verify"
exit 1
